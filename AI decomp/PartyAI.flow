
// 
// FlowScript decompiled using Atlus Script Tools by TGE (2017-2021)
// In the unfortunate case of any bugs, please report them back to me.
// 


// 
// Procedure declarations
// 

// Procedure Index: 0
void AI_PC_002_001()
{
    int var0;
    int var1;
    int var2;
    int var3;
    int var4;
    int var5;
    int var6;
    int var7;
    int var8;
    int var9;
    int var10;
    int var11;
    int var12;
    int var13;
    int var14;
    int var15;
    int var16;
    int var17;
    int var18;
    int var19;
    int var20;
    int var21;
    var0 = 0;
    var1 = 0;
    var2 = 0;
    var3 = 0;
    var4 = 0;
    var5 = 0;
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var0 = FUNCTION_00FF();
        var1 = AI_WEAPON_AFFINITY();
        
        if ( ( FUNCTION_0148( var0, var1 ) == 1 ) && ( FUNCTION_00FA( var0 ) == 1 ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var0 );
            return;
        }
        else if ( ( ( FUNCTION_0148( var0, var1 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var0 );
            return;
        }

    }

    var6 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var6 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var7 = FUNCTION_00FE( 0, PartyMember.Protagonist );
    
    if ( ( FUNCTION_00F8( var7, 40 ) == 1 ) && ( FUNCTION_00FB( var7, 0x10 ) == 1 ) )
    {
        
        if ( ( AI_SELF_SP_PERCENT( 40 ) == 1 ) && ( FUNCTION_00FC( var7, 0x10 ) == 1 ) )
        {
            var0 = FUNCTION_01C8( 60 );
            
            if ( var0 >= 2 )
            {
                var2 = AI_USE_ITEM( var7, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var2 = AI_USE_ITEM( var7, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var2 );
            AI_TAR_ID( var7 );
            return;
        }
        else 
        {
            var0 = FUNCTION_01C8( 60 );
            
            if ( var0 >= 2 )
            {
                var3 = AI_USE_SKILL_AFFINITY( var7, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var3 = AI_USE_SKILL_AFFINITY( var7, 0x10, NumberTargets.SingleTarget );
            }

            AI_ACT_SKILL( var3 );
            AI_TAR_ID( var7 );
            return;
        }

    }
    else if ( ( FUNCTION_00F8( var7, 40 ) == 1 ) && ( FUNCTION_00FC( var7, 0x10 ) == 1 ) )
    {
        var0 = FUNCTION_01C8( 60 );
        
        if ( var0 >= 2 )
        {
            var2 = AI_USE_ITEM( var7, 0x10, NumberTargets.MultiTarget );
        }
        else 
        {
            var2 = AI_USE_ITEM( var7, 0x10, NumberTargets.SingleTarget );
        }

        FUNCTION_00EB( var2 );
        AI_TAR_ID( var7 );
        return;
    }

    var8 = FUNCTION_0140();
    
    if ( ( FUNCTION_00F8( var8, 40 ) == 1 ) && ( FUNCTION_00FB( var8, 0x10 ) == 1 ) )
    {
        
        if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var8, 0x10 ) == 1 ) )
        {
            var0 = FUNCTION_01C8( 60 );
            
            if ( var0 >= 2 )
            {
                var2 = AI_USE_ITEM( var8, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var2 = AI_USE_ITEM( var8, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var2 );
            AI_TAR_ID( var8 );
            return;
        }
        else 
        {
            var0 = FUNCTION_01C8( 60 );
            
            if ( var0 >= 2 )
            {
                var3 = AI_USE_SKILL_AFFINITY( var8, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var3 = AI_USE_SKILL_AFFINITY( var8, 0x10, NumberTargets.SingleTarget );
            }

            AI_ACT_SKILL( var3 );
            AI_TAR_ID( var8 );
            return;
        }

    }
    else if ( ( FUNCTION_00F8( var8, 40 ) == 1 ) && ( FUNCTION_00FC( var8, 0x10 ) == 1 ) )
    {
        var0 = FUNCTION_01C8( 60 );
        
        if ( var0 >= 2 )
        {
            var2 = AI_USE_ITEM( var8, 0x10, NumberTargets.MultiTarget );
        }
        else 
        {
            var2 = AI_USE_ITEM( var8, 0x10, NumberTargets.SingleTarget );
        }

        FUNCTION_00EB( var2 );
        AI_TAR_ID( var8 );
        return;
    }

    var1 = AI_WEAPON_AFFINITY();
    var0 = AI_EN_NOT_IMMUNE( var1 );
    
    if ( var0 != -1 )
    {
        
        if ( FUNCTION_00FA( var0 ) == 1 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( var1 );
            AI_ACT_WEAPON();
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( var1 );
            }

        }

        AI_ACT_WEAPON();
        AI_TAR_ID( var0 );
        return;
    }

    
    if ( AI_EN_WEAK( Affinity.Slash ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Slash ) ) )
    {
        var0 = AI_EN_NOT_IMMUNE( Affinity.Slash );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 0 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Slash );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Strike ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Strike ) ) )
    {
        var0 = AI_EN_NOT_IMMUNE( Affinity.Strike );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 1 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Strike );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Pierce ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Pierce ) ) )
    {
        var0 = AI_EN_NOT_IMMUNE( Affinity.Pierce );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 2 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Pierce );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Fire ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Fire ) == 1 ) )
    {
        var0 = FUNCTION_0103( 3 );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 3 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Fire );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Fire, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Ice ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Ice ) == 1 ) )
    {
        var0 = FUNCTION_0103( 4 );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 4 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Ice );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Ice, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Wind ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Wind ) == 1 ) )
    {
        var0 = FUNCTION_0103( 6 );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 6 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Wind );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Wind, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Elec ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Elec ) == 1 ) )
    {
        var0 = FUNCTION_0103( 5 );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 5 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Elec );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Elec, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Light ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Light ) == 1 ) )
    {
        var0 = FUNCTION_0103( 8 );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 8 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Light );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Light, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Dark ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Dark ) == 1 ) )
    {
        var0 = FUNCTION_0103( 9 );
        
        if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var0 = FUNCTION_0101( 9 );
            
            if ( var0 == -1 )
            {
                var0 = AI_EN_NOT_IMMUNE( Affinity.Dark );
            }

            var4 = AI_USE_SKILL_AFFINITY( var0, Affinity.Dark, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var4 );
        }

        AI_TAR_ID( var0 );
        return;
    }

    var9 = FUNCTION_01C9();
    var10 = FUNCTION_01CA();
    var11 = ( var9 - var10 );
    var12 = 0;
    
    if ( var11 <= -8 )
    {
        var12 = 50;
    }
    else if ( var11 <= -3 )
    {
        var12 = 30;
    }
    else if ( var11 <= 0 )
    {
        var12 = 20;
    }
    else if ( var11 <= 3 )
    {
        var12 = 10;
    }
    else 
    {
        var12 = 0;
    }

    var13 = AI_RND( 100 );
    var7 = FUNCTION_00FE( 0, PartyMember.Protagonist );
    
    if ( ( ( var13 <= var12 ) && AI_CHK_UNIT_STATUS( PartyMember.Protagonist, StatusEffects.Downed ) ) && ( AI_HAS_SKILL( BattleSkill.RePatra ) || AI_HAS_SKILL( 255 ) ) )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.RePatra ) )
        {
            AI_ACT_SKILL( BattleSkill.RePatra );
            AI_TAR_ID( var7 );
            return;
        }
        else if ( AI_HAS_SKILL( 255 ) )
        {
            AI_ACT_SKILL( 255 );
            AI_TAR_RND();
            return;
        }

    }

    var9 = FUNCTION_01C9();
    var10 = FUNCTION_01CA();
    var11 = ( var9 - var10 );
    
    if ( var11 <= -8 )
    {
        var12 = 40;
    }
    else if ( var11 <= -3 )
    {
        var12 = 30;
    }
    else if ( var11 <= 0 )
    {
        var12 = 10;
    }
    else if ( var11 <= 3 )
    {
        var12 = 0;
    }
    else 
    {
        var12 = 0;
    }

    var13 = AI_RND( 100 );
    
    if ( ( var13 <= var12 ) && AI_CHK_ALLIES_STATUS( StatusEffects.Downed ) )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.RePatra ) )
        {
            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Yukari, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Yukari );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Ken, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Ken );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Mitsuru, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Mitsuru );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Akihiko, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Akihiko );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Aigis, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Aigis );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Junpei, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Junpei );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Koromaru, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.Koromaru );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.ShinjiroMetis, StatusEffects.Downed ) )
            {
                var0 = FUNCTION_00FE( 0, PartyMember.ShinjiroMetis );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var0 );
                return;
            }

        }
        else if ( AI_HAS_SKILL( 255 ) )
        {
            AI_ACT_SKILL( 255 );
            AI_TAR_RND();
            return;
        }

    }

    
    if ( AI_HAS_SKILL( BattleSkill.Dekaja ) )
    {
        var14 = AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.AttackBuff );
        var15 = AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.DefenseBuff );
        var16 = AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.HitUpBuff );
        var17 = ( ( var14 + var15 ) + var16 );
        
        if ( ( ( AI_ENEMY_COUNT( 1 ) && ( var17 >= 1 ) ) || ( AI_ENEMY_COUNT( 3 ) && ( var17 >= 2 ) ) ) || ( AI_ENEMY_COUNT( 5 ) && ( var17 >= 3 ) ) )
        {
            
            if ( ( FUNCTION_0194( 1 ) == 0 ) && ( FUNCTION_019D() == 0 ) )
            {
                var12 = 50;
            }
            else 
            {
                var12 = 100;
            }

            var13 = AI_RND( 100 );
            
            if ( var13 <= var12 )
            {
                AI_ACT_SKILL( BattleSkill.Dekaja );
                AI_TAR_RND();
                return;
            }

        }

    }

    
    if ( AI_HAS_SKILL( BattleSkill.Dekunda ) )
    {
        var14 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.AttackDebuff );
        var15 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.DefenseDebuff );
        var16 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.HitUpDebuff );
        var18 = ( ( var14 + var15 ) + var16 );
        var14 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break1 );
        var15 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break2 );
        var16 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break3 );
        var18 = ( ( ( var18 + var14 ) + var15 ) + var16 );
        var14 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break4 );
        var18 = ( var18 + var14 );
        
        if ( ( AI_ALLY_COUNT( 2 ) && ( var18 >= 1 ) ) || ( AI_ALLY_COUNT( 4 ) && ( var18 >= 2 ) ) )
        {
            
            if ( ( FUNCTION_0194( 1 ) == 0 ) && ( FUNCTION_019D() == 0 ) )
            {
                var12 = 50;
            }
            else 
            {
                var12 = 100;
            }

            var13 = AI_RND( 100 );
            
            if ( var13 <= var12 )
            {
                AI_ACT_SKILL( BattleSkill.Dekunda );
                AI_TAR_RND();
                return;
            }

        }

    }

    var9 = FUNCTION_01C9();
    var10 = FUNCTION_01CA();
    var11 = ( var9 - var10 );
    
    if ( var11 <= -8 )
    {
        var12 = 100;
    }
    else if ( var11 <= -3 )
    {
        var12 = 100;
    }
    else if ( var11 <= 0 )
    {
        var12 = 80;
    }
    else if ( var11 <= 3 )
    {
        var12 = 40;
    }
    else 
    {
        var12 = 20;
    }

    var13 = AI_RND( 100 );
    
    if ( ( var13 <= var12 ) || FUNCTION_019D() )
    {
        var0 = FUNCTION_01CE( 3 );
        
        if ( ( ( var0 != -1 ) && AI_HAS_SKILL( BattleSkill.FireBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break1 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 3 ) )
            {
                AI_ACT_SKILL( BattleSkill.FireBreak );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( FUNCTION_01CF( 5, 3 ) )
            {
                AI_ACT_SKILL( BattleSkill.FireBreak );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( FUNCTION_01CF( 10, 3 ) )
            {
                AI_ACT_SKILL( BattleSkill.FireBreak );
                AI_TAR_ID( var0 );
                return;
            }

        }

        var0 = FUNCTION_01CE( 4 );
        
        if ( ( ( var0 != -1 ) && AI_HAS_SKILL( BattleSkill.IceBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break2 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 4 ) )
            {
                AI_ACT_SKILL( BattleSkill.IceBreak );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( FUNCTION_01CF( 4, 4 ) )
            {
                AI_ACT_SKILL( BattleSkill.IceBreak );
                AI_TAR_ID( var0 );
                return;
            }

        }

        var0 = FUNCTION_01CE( 6 );
        
        if ( ( ( var0 != -1 ) && AI_HAS_SKILL( BattleSkill.WindBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break3 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 6 ) )
            {
                AI_ACT_SKILL( BattleSkill.WindBreak );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( FUNCTION_01CF( 2, 6 ) )
            {
                AI_ACT_SKILL( BattleSkill.WindBreak );
                AI_TAR_ID( var0 );
                return;
            }

        }

        var0 = FUNCTION_01CE( 5 );
        
        if ( ( ( var0 != -1 ) && AI_HAS_SKILL( BattleSkill.ElecBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break4 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 5 ) )
            {
                AI_ACT_SKILL( BattleSkill.ElecBreak );
                AI_TAR_ID( var0 );
                return;
            }

            
            if ( FUNCTION_01CF( 7, 5 ) )
            {
                AI_ACT_SKILL( BattleSkill.ElecBreak );
                AI_TAR_ID( var0 );
                return;
            }

        }

    }

    
    if ( FUNCTION_019D() )
    {
        var6 = 50;
    }
    else if ( FUNCTION_0194( 8 ) )
    {
        var6 = 50;
    }
    else if ( FUNCTION_0194( 1 ) )
    {
        var6 = 30;
    }
    else 
    {
        var6 = -1;
    }

    var13 = AI_RND( 100 );
    
    if ( ( AI_HAS_SKILL( BattleSkill.MindCharge ) && ( var13 <= var6 ) ) && ( AI_CHK_SELF_EFFECT( SpecialEffects.MindCharge ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.MindCharge );
        AI_TAR_RND();
        return;
    }

    
    if ( FUNCTION_019D() )
    {
        var6 = 50;
    }
    else if ( FUNCTION_0194( 8 ) )
    {
        var6 = 50;
    }
    else if ( FUNCTION_0194( 1 ) )
    {
        var6 = 30;
    }
    else 
    {
        var6 = -1;
    }

    var13 = AI_RND( 100 );
    
    if ( ( AI_HAS_SKILL( BattleSkill.PowerCharge ) && ( var13 <= var6 ) ) && ( AI_CHK_SELF_EFFECT( SpecialEffects.PowerCharge ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.PowerCharge );
        AI_TAR_RND();
        return;
    }

    var0 = FUNCTION_0108( 2 );
    
    if ( ( ( var0 != -1 ) && AI_HAS_SKILL( BattleSkill.CruelAttack ) ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.CruelAttack );
        AI_TAR_ID( var0 );
        return;
    }

    var0 = FUNCTION_00FF();
    
    if ( ( FUNCTION_00FA( var0 ) == 1 ) && ( FUNCTION_0148( var0, var1 ) == 1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var0 );
        return;
    }

    
    if ( AI_HAS_SKILL( BattleSkill.SpiritDrain ) && ( AI_SELF_SP_PERCENT( 10 ) == 1 ) )
    {
        AI_ACT_SKILL( BattleSkill.SpiritDrain );
        FUNCTION_0062();
        return;
    }

    
    if ( AI_HAS_SKILL( 26 ) )
    {
        
        if ( AI_SELF_SP_PERCENT( 15 ) == 1 )
        {
            AI_ACT_SKILL( 26 );
            FUNCTION_0062();
            return;
        }
        else if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( AI_SELF_HP_PERCENT( 80 ) == 1 ) )
        {
            AI_ACT_SKILL( 26 );
            FUNCTION_0062();
            return;
        }

    }

    
    if ( AI_ENEMY_COUNT( 2 ) )
    {
        var6 = 10;
    }
    else if ( AI_ENEMY_COUNT( 3 ) )
    {
        var6 = 20;
    }
    else if ( AI_ENEMY_COUNT( 4 ) )
    {
        var6 = 30;
    }
    else 
    {
        var6 = 40;
    }

    var19 = 0;
    
    if ( FUNCTION_0194( 1 ) )
    {
        var19 = 10;
    }
    else if ( FUNCTION_0194( 3 ) )
    {
        var19 = 20;
    }
    else 
    {
        var19 = 30;
    }

    var20 = ( var6 + var19 );
    var0 = FUNCTION_0110( 8 );
    var13 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_019D() == 0 ) && ( var13 <= var20 ) ) && ( var0 != -1 ) )
    {
        
        if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
            {
                AI_ACT_SKILL( BattleSkill.Mahamaon );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
            {
                AI_ACT_SKILL( BattleSkill.Mahama );
                AI_TAR_RND();
                return;
            }

        }
        else 
        {
            var0 = AI_EN_WEAK_ID( 8 );
            
            if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
            {
                AI_ACT_SKILL( BattleSkill.Hamaon );
                AI_TAR_ID( var0 );
                return;
            }
            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
            {
                AI_ACT_SKILL( BattleSkill.Hama );
                AI_TAR_ID( var0 );
                return;
            }
            else if ( AI_HAS_SKILL( 49 ) )
            {
                AI_ACT_SKILL( 49 );
                AI_TAR_ID( var0 );
                return;
            }

        }

    }

    var0 = FUNCTION_0110( 9 );
    var13 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_019D() == 0 ) && ( var13 <= var20 ) ) && ( var0 != -1 ) )
    {
        
        if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
            {
                AI_ACT_SKILL( BattleSkill.Mamudoon );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
            {
                AI_ACT_SKILL( BattleSkill.Mamudo );
                AI_TAR_RND();
                return;
            }

        }
        else 
        {
            var0 = AI_EN_WEAK_ID( 9 );
            
            if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
            {
                AI_ACT_SKILL( BattleSkill.Mudoon );
                AI_TAR_ID( var0 );
                return;
            }
            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
            {
                AI_ACT_SKILL( BattleSkill.Mudo );
                AI_TAR_ID( var0 );
                return;
            }
            else if ( AI_HAS_SKILL( 55 ) )
            {
                AI_ACT_SKILL( 55 );
                AI_TAR_ID( var0 );
                return;
            }

        }

    }

    var9 = FUNCTION_01C9();
    var10 = FUNCTION_01CA();
    var11 = ( var9 - var10 );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    BIT_OFF( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( ( AI_HAS_SKILL( BattleSkill.MarinKarin ) || AI_HAS_SKILL( BattleSkill.SexyDance ) ) || AI_HAS_SKILL( 243 ) )
    {
        
        if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 60 ) ) && ( var11 <= 10 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 20 ) ) && ( var11 <= 7 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 10 ) ) && ( var11 <= 5 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 5 ) ) && ( var11 <= 4 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( FUNCTION_019D() == 0 ) && ( var11 <= 3 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( BIT_CHK( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) ) == 1 )
    {
        var0 = AI_NUM_EN_NOT_IMMUNE( 10 );
        
        if ( var0 <= 0 )
        {
            var6 = 0;
        }
        else if ( var0 <= 2 )
        {
            var6 = 20;
        }
        else if ( var0 <= 3 )
        {
            var6 = 40;
        }
        else if ( var0 <= 4 )
        {
            var6 = 50;
        }
        else 
        {
            var6 = 70;
        }

        var13 = AI_RND( 100 );
        
        if ( var13 <= var6 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.MarinKarin ) )
            {
                AI_ACT_SKILL( BattleSkill.MarinKarin );
                AI_DONT_TAR_STATUS( StatusEffects.Charm );
                return;
            }
            else if ( AI_HAS_SKILL( BattleSkill.SexyDance ) )
            {
                AI_ACT_SKILL( BattleSkill.SexyDance );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 243 ) )
            {
                AI_ACT_SKILL( 243 );
                AI_TAR_RND();
                return;
            }

        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    BIT_OFF( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( AI_HAS_SKILL( BattleSkill.Tentarafoo ) || AI_HAS_SKILL( 249 ) )
    {
        
        if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 60 ) ) && ( var11 <= 10 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 20 ) ) && ( var11 <= 7 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 10 ) ) && ( var11 <= 5 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 5 ) ) && ( var11 <= 4 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( FUNCTION_019D() == 0 ) && ( var11 <= 3 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( BIT_CHK( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) ) == 1 )
    {
        var0 = AI_NUM_EN_NOT_IMMUNE( 13 );
        
        if ( var0 <= 0 )
        {
            var6 = 0;
        }
        else if ( var0 <= 2 )
        {
            var6 = 20;
        }
        else if ( var0 <= 3 )
        {
            var6 = 40;
        }
        else if ( var0 <= 4 )
        {
            var6 = 50;
        }
        else 
        {
            var6 = 70;
        }

        var13 = AI_RND( 100 );
        
        if ( ( var13 <= var6 ) && AI_HAS_SKILL( BattleSkill.Tentarafoo ) )
        {
            AI_ACT_SKILL( BattleSkill.Tentarafoo );
            AI_TAR_RND();
            return;
        }
        else if ( ( var13 <= var6 ) && AI_HAS_SKILL( 249 ) )
        {
            AI_ACT_SKILL( 249 );
            AI_TAR_RND();
            return;
        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    BIT_OFF( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( AI_HAS_SKILL( BattleSkill.EvilSmile ) || AI_HAS_SKILL( 244 ) )
    {
        
        if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 60 ) ) && ( var11 <= 10 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 20 ) ) && ( var11 <= 7 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 10 ) ) && ( var11 <= 5 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( ( FUNCTION_019D() == 0 ) && FUNCTION_0039( 5 ) ) && ( var11 <= 4 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }
        else if ( ( FUNCTION_019D() == 0 ) && ( var11 <= 3 ) )
        {
            BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( BIT_CHK( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) ) == 1 )
    {
        var0 = AI_NUM_EN_NOT_IMMUNE( 14 );
        
        if ( var0 <= 0 )
        {
            var6 = 0;
        }
        else if ( var0 <= 2 )
        {
            var6 = 20;
        }
        else if ( var0 <= 3 )
        {
            var6 = 40;
        }
        else if ( var0 <= 4 )
        {
            var6 = 50;
        }
        else 
        {
            var6 = 70;
        }

        var13 = AI_RND( 100 );
        
        if ( ( var13 <= var6 ) && AI_HAS_SKILL( BattleSkill.EvilSmile ) )
        {
            AI_ACT_SKILL( BattleSkill.EvilSmile );
            AI_TAR_RND();
            return;
        }
        else if ( ( var13 <= var6 ) && AI_HAS_SKILL( 244 ) )
        {
            AI_ACT_SKILL( 244 );
            AI_TAR_RND();
            return;
        }

    }

    var0 = FUNCTION_00FF();
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var4 = FUNCTION_010B( var0, 1, 0 );
    }
    else 
    {
        var4 = FUNCTION_010B( var0, 0, 0 );
    }

    var21 = 0;
    
    if ( var4 != -1 )
    {
        var21 = FUNCTION_01CB( var4 );
        
        if ( var21 == -1 )
        {
            OPEN_MSG_WIN();
            MSG( 1 );
            CLOSE_MSG_WIN();
        }

        
        if ( ( ( ( var21 == 0 ) || ( var21 == 1 ) ) || ( var21 == 2 ) ) && AI_SELF_HP_PERCENT( 40 ) )
        {
            
            if ( AI_ENEMY_COUNT( 1 ) == 1 )
            {
                var4 = FUNCTION_010B( var0, 1, 1 );
            }
            else 
            {
                var4 = FUNCTION_010B( var0, 0, 1 );
            }

            
            if ( var4 == -1 )
            {
                var1 = AI_WEAPON_AFFINITY();
                
                if ( FUNCTION_0148( var0, var1 ) )
                {
                    AI_ACT_WEAPON();
                    AI_TAR_ID( var0 );
                    return;
                }
                else 
                {
                    var0 = AI_CHK_WEAK_POSITION( var1 );
                    
                    if ( var0 != -1 )
                    {
                        AI_ACT_WEAPON();
                        AI_TAR_ID( var0 );
                        return;
                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahamaon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahama );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                var0 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                var0 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                var0 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var0 );
                                return;
                            }

                        }
                        else 
                        {
                            var0 = AI_EN_WEAK_ID( 8 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var0 );
                                return;
                            }

                        }

                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudoon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudo );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                var0 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                var0 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                var0 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var0 );
                                return;
                            }

                        }
                        else 
                        {
                            var0 = AI_EN_WEAK_ID( 9 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var0 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var0 );
                                return;
                            }

                        }

                    }

                    AI_ACT_WAIT();
                    AI_TAR_RND();
                    return;
                }

            }
            else 
            {
                var21 = FUNCTION_01CB( var4 );
                
                if ( var21 == -1 )
                {
                    OPEN_MSG_WIN();
                    MSG( 2 );
                    CLOSE_MSG_WIN();
                }

                var5 = FUNCTION_01CE( var21 );
                
                if ( var5 != -1 )
                {
                    var4 = FUNCTION_010B( var0, 1, 1 );
                    AI_ACT_SKILL( var4 );
                    AI_TAR_ID( var0 );
                    return;
                }
                else 
                {
                    AI_ACT_SKILL( var4 );
                    AI_TAR_ID( var0 );
                    return;
                }

            }

        }
        else 
        {
            var5 = FUNCTION_01CE( var21 );
            
            if ( ( var5 != -1 ) || ( AI_ENEMY_COUNT( 1 ) == 1 ) )
            {
                var4 = FUNCTION_010B( var0, 1, 0 );
                AI_ACT_SKILL( var4 );
                AI_TAR_ID( var0 );
                return;
            }
            else 
            {
                AI_ACT_SKILL( var4 );
                AI_TAR_ID( var0 );
                return;
            }

        }

    }
    else 
    {
        var1 = AI_WEAPON_AFFINITY();
        var0 = AI_CHK_WEAK_POSITION( var1 );
        
        if ( var0 != -1 )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var0 );
            return;
        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahamaon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahama );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    var0 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    var0 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    var0 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var0 );
                    return;
                }

            }
            else 
            {
                var0 = AI_EN_WEAK_ID( 8 );
                
                if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var0 );
                    return;
                }

            }

        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudoon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudo );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    var0 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    var0 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    var0 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var0 );
                    return;
                }

            }
            else 
            {
                var0 = AI_EN_WEAK_ID( 9 );
                
                if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var0 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var0 );
                    return;
                }

            }

        }

        AI_ACT_WAIT();
        AI_TAR_RND();
        return;
    }

}


// Procedure Index: 1
void AI_PC_002_002()
{
    int var22;
    int var23;
    int var24;
    var22 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var22 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var23 = AI_WEAPON_AFFINITY();
    var24 = FUNCTION_0101( var23 );
    
    if ( var24 != -1 )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var24 );
        return;
    }

    GOTODOWN();
}


// Procedure Index: 2
void AI_PC_002_003()
{
    int var25;
    int var26;
    int var27;
    int var28;
    int var29;
    int var30;
    var25 = AI_RND( 100 );
    var26 = 0;
    var27 = 0;
    var28 = 0;
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var25 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var29 = AI_WEAPON_AFFINITY();
    var30 = FUNCTION_0102( var29 );
    
    if ( var30 != -1 )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var30 );
        return;
    }

    
    if ( ( ( ENWEAK_DW_PAI( 0 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Slash ) == 1 ) ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) || ( var29 == 0 ) ) )
    {
        var30 = FUNCTION_0105( 0 );
        
        if ( var29 == 0 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ( ENWEAK_DW_PAI( 1 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Strike ) == 1 ) ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) || ( var29 == 1 ) ) )
    {
        var30 = FUNCTION_0105( 1 );
        
        if ( var29 == 1 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ( ENWEAK_DW_PAI( 2 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Pierce ) == 1 ) ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) || ( var29 == 2 ) ) )
    {
        var30 = FUNCTION_0105( 2 );
        
        if ( var29 == 2 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ENWEAK_DW_PAI( 3 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Fire ) == 1 ) )
    {
        var30 = FUNCTION_0105( 3 );
        
        if ( var29 == 3 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Fire, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ENWEAK_DW_PAI( 4 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Ice ) == 1 ) )
    {
        var30 = FUNCTION_0105( 4 );
        
        if ( var29 == 4 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Ice, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ENWEAK_DW_PAI( 5 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Elec ) == 1 ) )
    {
        var30 = FUNCTION_0105( 5 );
        
        if ( var29 == 5 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Elec, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ENWEAK_DW_PAI( 6 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Wind ) == 1 ) )
    {
        var30 = FUNCTION_0105( 6 );
        
        if ( var29 == 6 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Wind, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var26 );
        }

        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ENWEAK_DW_PAI( 8 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Light ) == 1 ) )
    {
        var30 = FUNCTION_0105( 8 );
        var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Light, NumberTargets.SingleTarget );
        AI_ACT_SKILL( var26 );
        AI_TAR_ID( var30 );
        return;
    }
    else if ( ( ENWEAK_DW_PAI( 9 ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Dark ) == 1 ) )
    {
        var30 = FUNCTION_0105( 9 );
        var26 = AI_USE_SKILL_AFFINITY( var30, Affinity.Dark, NumberTargets.SingleTarget );
        AI_ACT_SKILL( var26 );
        AI_TAR_ID( var30 );
        return;
    }
    else if ( AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) == 1 )
    {
        var30 = FUNCTION_010F();
        
        if ( var30 != -1 )
        {
            
            if ( AI_ENEMY_COUNT( 1 ) == 1 )
            {
                var26 = FUNCTION_010B( var30, 1, 0 );
            }
            else 
            {
                var26 = FUNCTION_010B( var30, 0, 0 );
            }

            
            if ( var26 != -1 )
            {
                var27 = FUNCTION_01CB( var26 );
                
                if ( var27 == -1 )
                {
                    OPEN_MSG_WIN();
                    MSG( 1 );
                    CLOSE_MSG_WIN();
                }

                
                if ( ( ( ( var27 == 0 ) || ( var27 == 1 ) ) || ( var27 == 2 ) ) && AI_SELF_HP_PERCENT( 40 ) )
                {
                    
                    if ( AI_ENEMY_COUNT( 1 ) == 1 )
                    {
                        var26 = FUNCTION_010B( var30, 1, 1 );
                    }
                    else 
                    {
                        var26 = FUNCTION_010B( var30, 0, 1 );
                    }

                    
                    if ( var26 == -1 )
                    {
                        var29 = AI_WEAPON_AFFINITY();
                        
                        if ( FUNCTION_0148( var30, var29 ) )
                        {
                            AI_ACT_WEAPON();
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else 
                        {
                            var30 = AI_CHK_WEAK_POSITION( var29 );
                            
                            if ( var30 != -1 )
                            {
                                AI_ACT_WEAPON();
                                AI_TAR_ID( var30 );
                                return;
                            }
                            else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                            {
                                
                                if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                                {
                                    
                                    if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Mahamaon );
                                        AI_TAR_RND();
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Mahama );
                                        AI_TAR_RND();
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                                    {
                                        var30 = AI_EN_WEAK_ID( 8 );
                                        AI_ACT_SKILL( BattleSkill.Hamaon );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                                    {
                                        var30 = AI_EN_WEAK_ID( 8 );
                                        AI_ACT_SKILL( BattleSkill.Hama );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( 49 ) )
                                    {
                                        var27 = AI_EN_WEAK_ID( 8 );
                                        AI_ACT_SKILL( 49 );
                                        AI_TAR_ID( var27 );
                                        return;
                                    }

                                }
                                else 
                                {
                                    var30 = AI_EN_WEAK_ID( 8 );
                                    
                                    if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Hamaon );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Hama );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( 49 ) )
                                    {
                                        AI_ACT_SKILL( 49 );
                                        AI_TAR_ID( var27 );
                                        return;
                                    }

                                }

                            }
                            else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                            {
                                
                                if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                                {
                                    
                                    if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Mamudoon );
                                        AI_TAR_RND();
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Mamudo );
                                        AI_TAR_RND();
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                                    {
                                        var30 = AI_EN_WEAK_ID( 9 );
                                        AI_ACT_SKILL( BattleSkill.Mudoon );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                                    {
                                        var30 = AI_EN_WEAK_ID( 9 );
                                        AI_ACT_SKILL( BattleSkill.Mudo );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( 55 ) )
                                    {
                                        var30 = AI_EN_WEAK_ID( 9 );
                                        AI_ACT_SKILL( 55 );
                                        AI_TAR_ID( var27 );
                                        return;
                                    }

                                }
                                else 
                                {
                                    var30 = AI_EN_WEAK_ID( 9 );
                                    
                                    if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Mudoon );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                                    {
                                        AI_ACT_SKILL( BattleSkill.Mudo );
                                        AI_TAR_ID( var30 );
                                        return;
                                    }
                                    else if ( AI_HAS_SKILL( 55 ) )
                                    {
                                        AI_ACT_SKILL( 55 );
                                        AI_TAR_ID( var27 );
                                        return;
                                    }

                                }

                            }

                            AI_ACT_WAIT();
                            AI_TAR_RND();
                            return;
                        }

                    }
                    else 
                    {
                        var27 = FUNCTION_01CB( var26 );
                        
                        if ( var27 == -1 )
                        {
                            OPEN_MSG_WIN();
                            MSG( 2 );
                            CLOSE_MSG_WIN();
                        }

                        var28 = FUNCTION_01CE( var27 );
                        
                        if ( var28 != -1 )
                        {
                            var26 = FUNCTION_010B( var30, 1, 1 );
                            AI_ACT_SKILL( var26 );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else 
                        {
                            AI_ACT_SKILL( var26 );
                            AI_TAR_ID( var30 );
                            return;
                        }

                    }

                }
                else 
                {
                    var28 = FUNCTION_01CE( var27 );
                    
                    if ( ( var28 != -1 ) || ( AI_ENEMY_COUNT( 1 ) == 1 ) )
                    {
                        var26 = FUNCTION_010B( var30, 1, 0 );
                        AI_ACT_SKILL( var26 );
                        AI_TAR_ID( var30 );
                        return;
                    }
                    else 
                    {
                        AI_ACT_SKILL( var26 );
                        AI_TAR_ID( var30 );
                        return;
                    }

                }

            }
            else 
            {
                var29 = AI_WEAPON_AFFINITY();
                var30 = AI_CHK_WEAK_POSITION( var29 );
                
                if ( var30 != -1 )
                {
                    AI_ACT_WEAPON();
                    AI_TAR_ID( var30 );
                    return;
                }
                else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                {
                    
                    if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                    {
                        
                        if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Mahamaon );
                            AI_TAR_RND();
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Mahama );
                            AI_TAR_RND();
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                        {
                            var30 = AI_EN_WEAK_ID( 8 );
                            AI_ACT_SKILL( BattleSkill.Hamaon );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                        {
                            var30 = AI_EN_WEAK_ID( 8 );
                            AI_ACT_SKILL( BattleSkill.Hama );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( 49 ) )
                        {
                            var27 = AI_EN_WEAK_ID( 8 );
                            AI_ACT_SKILL( 49 );
                            AI_TAR_ID( var27 );
                            return;
                        }

                    }
                    else 
                    {
                        var30 = AI_EN_WEAK_ID( 8 );
                        
                        if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Hamaon );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Hama );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( 49 ) )
                        {
                            AI_ACT_SKILL( 49 );
                            AI_TAR_ID( var27 );
                            return;
                        }

                    }

                }
                else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                {
                    
                    if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                    {
                        
                        if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Mamudoon );
                            AI_TAR_RND();
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Mamudo );
                            AI_TAR_RND();
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                        {
                            var30 = AI_EN_WEAK_ID( 9 );
                            AI_ACT_SKILL( BattleSkill.Mudoon );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                        {
                            var30 = AI_EN_WEAK_ID( 9 );
                            AI_ACT_SKILL( BattleSkill.Mudo );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( 55 ) )
                        {
                            var30 = AI_EN_WEAK_ID( 9 );
                            AI_ACT_SKILL( 55 );
                            AI_TAR_ID( var27 );
                            return;
                        }

                    }
                    else 
                    {
                        var30 = AI_EN_WEAK_ID( 9 );
                        
                        if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Mudoon );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                        {
                            AI_ACT_SKILL( BattleSkill.Mudo );
                            AI_TAR_ID( var30 );
                            return;
                        }
                        else if ( AI_HAS_SKILL( 55 ) )
                        {
                            AI_ACT_SKILL( 55 );
                            AI_TAR_ID( var27 );
                            return;
                        }

                    }

                }

                AI_ACT_WAIT();
                AI_TAR_RND();
                return;
            }

        }
        else 
        {
            GOTODOWN();
        }

    }
    else 
    {
        GOTODOWN();
    }

}


// Procedure Index: 3
void AI_PC_002_004()
{
    int var31;
    int var32;
    int var33;
    int var34;
    int var35;
    int var36;
    int var37;
    var31 = 0;
    var32 = 0;
    var33 = 0;
    var34 = 0;
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var31 = FUNCTION_00FF();
        var32 = AI_WEAPON_AFFINITY();
        
        if ( ( FUNCTION_0148( var31, var32 ) == 1 ) && ( FUNCTION_00FA( var31 ) == 1 ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var31 );
            return;
        }
        else if ( ( ( FUNCTION_0148( var31, var32 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var31 );
            return;
        }

    }

    var35 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var35 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var32 = AI_WEAPON_AFFINITY();
    var31 = AI_EN_NOT_IMMUNE( var32 );
    
    if ( var31 != -1 )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var31 );
        return;
    }

    var32 = AI_WEAPON_AFFINITY();
    
    if ( AI_EN_WEAK( Affinity.Slash ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Slash ) ) )
    {
        var31 = AI_EN_NOT_IMMUNE( Affinity.Slash );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Strike ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Strike ) ) )
    {
        var31 = AI_EN_NOT_IMMUNE( Affinity.Strike );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Pierce ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Pierce ) ) )
    {
        var31 = AI_EN_NOT_IMMUNE( Affinity.Pierce );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Fire ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Fire ) == 1 ) )
    {
        var31 = FUNCTION_0103( 3 );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Fire, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Ice ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Ice ) == 1 ) )
    {
        var31 = FUNCTION_0103( 4 );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Ice, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Wind ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Wind ) == 1 ) )
    {
        var31 = FUNCTION_0103( 6 );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Wind, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Elec ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Elec ) == 1 ) )
    {
        var31 = FUNCTION_0103( 5 );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Elec, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Light ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Light ) == 1 ) )
    {
        var31 = FUNCTION_0103( 8 );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Light, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Dark ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Dark ) == 1 ) )
    {
        var31 = FUNCTION_0103( 9 );
        
        if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var33 = AI_USE_SKILL_AFFINITY( var31, Affinity.Dark, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var33 );
        }

        AI_TAR_ID( var31 );
        return;
    }

    var31 = FUNCTION_0108( 2 );
    
    if ( ( ( var31 != -1 ) && AI_HAS_SKILL( BattleSkill.CruelAttack ) ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.CruelAttack );
        AI_TAR_ID( var31 );
        return;
    }

    var31 = FUNCTION_00FF();
    
    if ( ( FUNCTION_00FA( var31 ) == 1 ) && ( FUNCTION_0148( var31, var32 ) == 1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var31 );
        return;
    }

    
    if ( FUNCTION_019D() )
    {
        var35 = 50;
    }
    else if ( FUNCTION_0194( 8 ) )
    {
        var35 = 50;
    }
    else if ( FUNCTION_0194( 1 ) )
    {
        var35 = 30;
    }
    else 
    {
        var35 = -1;
    }

    var36 = AI_RND( 100 );
    
    if ( ( AI_HAS_SKILL( BattleSkill.MindCharge ) && ( var36 <= var35 ) ) && ( AI_CHK_SELF_EFFECT( SpecialEffects.MindCharge ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.MindCharge );
        AI_TAR_RND();
        return;
    }

    
    if ( FUNCTION_019D() )
    {
        var35 = 50;
    }
    else if ( FUNCTION_0194( 8 ) )
    {
        var35 = 50;
    }
    else if ( FUNCTION_0194( 1 ) )
    {
        var35 = 30;
    }
    else 
    {
        var35 = -1;
    }

    
    if ( ( AI_HAS_SKILL( BattleSkill.PowerCharge ) && ( var36 <= var35 ) ) && ( AI_CHK_SELF_EFFECT( SpecialEffects.PowerCharge ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.PowerCharge );
        AI_TAR_RND();
        return;
    }

    var31 = FUNCTION_00FF();
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var33 = FUNCTION_010B( var31, 1, 0 );
    }
    else 
    {
        var33 = FUNCTION_010B( var31, 0, 0 );
    }

    var37 = 0;
    
    if ( var33 != -1 )
    {
        var37 = FUNCTION_01CB( var33 );
        
        if ( var37 == -1 )
        {
            OPEN_MSG_WIN();
            MSG( 1 );
            CLOSE_MSG_WIN();
        }

        
        if ( ( ( ( var37 == 0 ) || ( var37 == 1 ) ) || ( var37 == 2 ) ) && AI_SELF_HP_PERCENT( 40 ) )
        {
            
            if ( AI_ENEMY_COUNT( 1 ) == 1 )
            {
                var33 = FUNCTION_010B( var31, 1, 1 );
            }
            else 
            {
                var33 = FUNCTION_010B( var31, 0, 1 );
            }

            
            if ( var33 == -1 )
            {
                var32 = AI_WEAPON_AFFINITY();
                
                if ( FUNCTION_0148( var31, var32 ) )
                {
                    AI_ACT_WEAPON();
                    AI_TAR_ID( var31 );
                    return;
                }
                else 
                {
                    var31 = AI_CHK_WEAK_POSITION( var32 );
                    
                    if ( var31 != -1 )
                    {
                        AI_ACT_WEAPON();
                        AI_TAR_ID( var31 );
                        return;
                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahamaon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahama );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                var31 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                var31 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                var35 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var31 );
                                return;
                            }

                        }
                        else 
                        {
                            var31 = AI_EN_WEAK_ID( 8 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var31 );
                                return;
                            }

                        }

                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudoon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudo );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                var31 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                var31 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                var31 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var31 );
                                return;
                            }

                        }
                        else 
                        {
                            var31 = AI_EN_WEAK_ID( 9 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var31 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var31 );
                                return;
                            }

                        }

                    }

                    AI_ACT_WAIT();
                    AI_TAR_RND();
                    return;
                }

            }
            else 
            {
                var37 = FUNCTION_01CB( var33 );
                
                if ( var37 == -1 )
                {
                    OPEN_MSG_WIN();
                    MSG( 2 );
                    CLOSE_MSG_WIN();
                }

                var34 = FUNCTION_01CE( var37 );
                
                if ( var34 != -1 )
                {
                    var33 = FUNCTION_010B( var31, 1, 1 );
                    AI_ACT_SKILL( var33 );
                    AI_TAR_ID( var31 );
                    return;
                }
                else 
                {
                    AI_ACT_SKILL( var33 );
                    AI_TAR_ID( var31 );
                    return;
                }

            }

        }
        else 
        {
            var34 = FUNCTION_01CE( var37 );
            
            if ( ( var34 != -1 ) || ( AI_ENEMY_COUNT( 1 ) == 1 ) )
            {
                var33 = FUNCTION_010B( var31, 1, 0 );
                AI_ACT_SKILL( var33 );
                AI_TAR_ID( var31 );
                return;
            }
            else 
            {
                AI_ACT_SKILL( var33 );
                AI_TAR_ID( var31 );
                return;
            }

        }

    }
    else 
    {
        var32 = AI_WEAPON_AFFINITY();
        var31 = AI_CHK_WEAK_POSITION( var32 );
        
        if ( var31 != -1 )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var31 );
            return;
        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahamaon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahama );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    var31 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    var31 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    var31 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var31 );
                    return;
                }

            }
            else 
            {
                var31 = AI_EN_WEAK_ID( 8 );
                
                if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var31 );
                    return;
                }

            }

        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudoon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudo );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    var31 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    var31 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    var31 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var31 );
                    return;
                }

            }
            else 
            {
                var31 = AI_EN_WEAK_ID( 9 );
                
                if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var31 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var31 );
                    return;
                }

            }

        }

        AI_ACT_WAIT();
        AI_TAR_RND();
        return;
    }

}


// Procedure Index: 4
void AI_PC_002_005()
{
    int var38;
    int var39;
    int var40;
    int var41;
    int var42;
    int var43;
    int var44;
    int var45;
    int var46;
    int var47;
    int var48;
    int var49;
    int var50;
    int var51;
    int var52;
    int var53;
    int var56;
    int var54;
    int var55;
    int var58;
    int var57;
    int var59;
    var38 = 0;
    var39 = 0;
    var40 = 0;
    var41 = 0;
    var42 = 0;
    var43 = 0;
    var44 = 0;
    var45 = 0;
    var46 = 0;
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var42 = FUNCTION_00FF();
        var43 = AI_WEAPON_AFFINITY();
        
        if ( ( FUNCTION_0148( var42, var43 ) == 1 ) && ( FUNCTION_00FA( var42 ) == 1 ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var42 );
            return;
        }
        else if ( ( ( FUNCTION_0148( var42, var43 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var42 );
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 40, 0 );
    
    if ( var47 != -1 )
    {
        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 70 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 70 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 100, 8 );
    
    if ( var47 != -1 )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.Amrita ) )
        {
            AI_ACT_SKILL( BattleSkill.Amrita );
            AI_TAR_RND();
            return;
        }

        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 100, 1 );
    
    if ( var47 != -1 )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.Amrita ) )
        {
            AI_ACT_SKILL( BattleSkill.Amrita );
            AI_TAR_RND();
            return;
        }

        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var47 = FUNCTION_0157( 0, 0, 0x00080000 );
    
    if ( var47 != -1 )
    {
        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 100, 0x10 );
    
    if ( var47 != -1 )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.Amrita ) )
        {
            AI_ACT_SKILL( BattleSkill.Amrita );
            AI_TAR_RND();
            return;
        }

        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 100, 2 );
    
    if ( var47 != -1 )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.Amrita ) )
        {
            AI_ACT_SKILL( BattleSkill.Amrita );
            AI_TAR_RND();
            return;
        }

        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var48 = FUNCTION_01C9();
    var49 = FUNCTION_01CA();
    var50 = ( var48 - var49 );
    var51 = 0;
    
    if ( var50 <= -8 )
    {
        var51 = 100;
    }
    else if ( var50 <= -3 )
    {
        var51 = 100;
    }
    else if ( var50 <= 0 )
    {
        var51 = 80;
    }
    else if ( var50 <= 3 )
    {
        var51 = 50;
    }
    else 
    {
        var51 = 20;
    }

    var52 = AI_RND( 100 );
    var53 = FUNCTION_00FE( 0, PartyMember.Protagonist );
    
    if ( ( ( var52 <= var51 ) && AI_CHK_UNIT_STATUS( PartyMember.Protagonist, StatusEffects.Downed ) ) && ( AI_HAS_SKILL( BattleSkill.RePatra ) || AI_HAS_SKILL( 255 ) ) )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.RePatra ) )
        {
            AI_ACT_SKILL( BattleSkill.RePatra );
            AI_TAR_ID( var53 );
            return;
        }
        else if ( AI_HAS_SKILL( 255 ) )
        {
            AI_ACT_SKILL( 255 );
            AI_TAR_RND();
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 100, 4 );
    
    if ( var47 != -1 )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.Amrita ) )
        {
            AI_ACT_SKILL( BattleSkill.Amrita );
            AI_TAR_RND();
            return;
        }

        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var47 = FUNCTION_0157( 1, 100, 0x80 );
    
    if ( var47 != -1 )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.Amrita ) )
        {
            AI_ACT_SKILL( BattleSkill.Amrita );
            AI_TAR_RND();
            return;
        }

        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 50 );
                
                if ( var42 >= 2 )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 50 );
            
            if ( var42 >= 2 )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    var48 = FUNCTION_01C9();
    var49 = FUNCTION_01CA();
    var50 = ( var48 - var49 );
    
    if ( var50 <= -8 )
    {
        var51 = 100;
    }
    else if ( var50 <= -3 )
    {
        var51 = 100;
    }
    else if ( var50 <= 0 )
    {
        var51 = 100;
    }
    else if ( var50 <= 3 )
    {
        var51 = 40;
    }
    else 
    {
        var51 = 20;
    }

    var52 = AI_RND( 100 );
    
    if ( ( var52 <= var51 ) || FUNCTION_019D() )
    {
        
        if ( ( AI_HAS_SKILL( 239 ) && AI_ALLY_COUNT( 2 ) ) && ( AI_CHK_ANY_ALLIES_EFFECT( 81 ) != -1 ) )
        {
            var56 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.AttackBuff );
            var54 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.HitUpBuff );
            var55 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.DefenseBuff );
            
            if ( ( ( var54 != -1 ) || ( var56 != -1 ) ) || ( var55 != -1 ) )
            {
                AI_ACT_SKILL( 239 );
                
                if ( var54 != -1 )
                {
                    AI_TAR_ID( var54 );
                }
                else if ( var56 != -1 )
                {
                    AI_TAR_ID( var56 );
                }
                else if ( var55 != -1 )
                {
                    AI_TAR_ID( var55 );
                }

                return;
            }

        }

        
        if ( AI_HAS_SKILL( 247 ) && ( AI_CHK_ANY_ALLIES_EFFECT( 65 ) != -1 ) )
        {
            AI_ACT_SKILL( 247 );
            AI_TAR_RND();
            return;
        }

        var42 = 0;
        
        if ( ( ( AI_HAS_SKILL( BattleSkill.Tarukaja ) || AI_HAS_SKILL( BattleSkill.Matarukaja ) ) || AI_HAS_SKILL( 239 ) ) && ( AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.AttackBuff ) != -1 ) )
        {
            var42 = ( var42 + 1 );
            var38 = ( var38 + var42 );
        }

        
        if ( ( ( ( AI_HAS_SKILL( BattleSkill.Sukukaja ) || AI_HAS_SKILL( BattleSkill.Masukukaja ) ) || AI_HAS_SKILL( 239 ) ) || AI_HAS_SKILL( 255 ) ) && ( AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.HitUpBuff ) != -1 ) )
        {
            var42 = ( var42 + 1 );
            var40 = ( var40 + var42 );
        }

        
        if ( ( ( AI_HAS_SKILL( BattleSkill.Rakukaja ) || AI_HAS_SKILL( BattleSkill.Marakukaja ) ) || AI_HAS_SKILL( 239 ) ) && ( AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.DefenseBuff ) != -1 ) )
        {
            var42 = ( var42 + 1 );
            var39 = ( var39 + var42 );
        }

        var52 = ( AI_RND( var42 ) + 1 );
        
        if ( var52 == var38 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Matarukaja ) )
            {
                AI_ACT_SKILL( BattleSkill.Matarukaja );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 239 ) )
            {
                var56 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.AttackBuff );
                var54 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.HitUpBuff );
                var55 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.DefenseBuff );
                
                if ( ( ( var54 != -1 ) || ( var56 != -1 ) ) || ( var55 != -1 ) )
                {
                    AI_ACT_SKILL( 239 );
                    
                    if ( var54 != -1 )
                    {
                        AI_TAR_ID( var54 );
                    }
                    else if ( var56 != -1 )
                    {
                        AI_TAR_ID( var56 );
                    }
                    else if ( var55 != -1 )
                    {
                        AI_TAR_ID( var55 );
                    }

                    return;
                }

            }
            else 
            {
                var42 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.AttackBuff );
                AI_ACT_SKILL( BattleSkill.Tarukaja );
                AI_TAR_ID( var42 );
                return;
            }

        }
        else if ( var52 == var40 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Masukukaja ) )
            {
                AI_ACT_SKILL( BattleSkill.Masukukaja );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 255 ) )
            {
                AI_ACT_SKILL( 255 );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 239 ) )
            {
                var56 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.AttackBuff );
                var54 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.HitUpBuff );
                var55 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.DefenseBuff );
                
                if ( ( ( var54 != -1 ) || ( var56 != -1 ) ) || ( var55 != -1 ) )
                {
                    AI_ACT_SKILL( 239 );
                    
                    if ( var54 != -1 )
                    {
                        AI_TAR_ID( var54 );
                    }
                    else if ( var56 != -1 )
                    {
                        AI_TAR_ID( var56 );
                    }
                    else if ( var55 != -1 )
                    {
                        AI_TAR_ID( var55 );
                    }

                    return;
                }

            }
            else 
            {
                var42 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.HitUpBuff );
                AI_ACT_SKILL( BattleSkill.Sukukaja );
                AI_TAR_ID( var42 );
                return;
            }

        }
        else if ( var52 == var39 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Marakukaja ) )
            {
                AI_ACT_SKILL( BattleSkill.Marakukaja );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 239 ) )
            {
                var56 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.AttackBuff );
                var54 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.HitUpBuff );
                var55 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.DefenseBuff );
                
                if ( ( ( var54 != -1 ) || ( var56 != -1 ) ) || ( var55 != -1 ) )
                {
                    AI_ACT_SKILL( 239 );
                    
                    if ( var54 != -1 )
                    {
                        AI_TAR_ID( var54 );
                    }
                    else if ( var56 != -1 )
                    {
                        AI_TAR_ID( var56 );
                    }
                    else if ( var55 != -1 )
                    {
                        AI_TAR_ID( var55 );
                    }

                    return;
                }

            }
            else 
            {
                var42 = AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.DefenseBuff );
                AI_ACT_SKILL( BattleSkill.Rakukaja );
                AI_TAR_ID( var42 );
                return;
            }

        }

    }

    var48 = FUNCTION_01C9();
    var49 = FUNCTION_01CA();
    var50 = ( var48 - var49 );
    
    if ( var50 <= -8 )
    {
        var51 = 100;
    }
    else if ( var50 <= -3 )
    {
        var51 = 100;
    }
    else if ( var50 <= 0 )
    {
        var51 = 80;
    }
    else if ( var50 <= 3 )
    {
        var51 = 50;
    }
    else 
    {
        var51 = 20;
    }

    var52 = AI_RND( 100 );
    
    if ( ( var52 <= var51 ) || FUNCTION_019D() )
    {
        
        if ( ( AI_HAS_SKILL( 240 ) && ( AI_CHK_ANY_ENEMIES_EFFECT( 162 ) != -1 ) ) && ( AI_ENEMY_COUNT( 1 ) == 1 ) )
        {
            var58 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AttackDebuff );
            var57 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.HitUpDebuff );
            var59 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.DefenseDebuff );
            
            if ( ( ( var57 != -1 ) || ( var58 != -1 ) ) || ( var59 != -1 ) )
            {
                AI_ACT_SKILL( 240 );
                
                if ( var57 != -1 )
                {
                    AI_TAR_ID( var57 );
                }
                else if ( var58 != -1 )
                {
                    AI_TAR_ID( var58 );
                }
                else if ( var59 != -1 )
                {
                    AI_TAR_ID( var59 );
                }

                return;
            }

        }

        
        if ( AI_HAS_SKILL( 248 ) && ( AI_CHK_ANY_ENEMIES_EFFECT( 160 ) != -1 ) )
        {
            AI_ACT_SKILL( 248 );
            AI_TAR_RND();
            return;
        }

        var42 = 0;
        
        if ( ( ( AI_HAS_SKILL( BattleSkill.Tarunda ) || AI_HAS_SKILL( BattleSkill.Matarunda ) ) || AI_HAS_SKILL( 240 ) ) && ( AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AttackDebuff ) != -1 ) )
        {
            var42 = ( var42 + 1 );
            var38 = ( var38 + var42 );
        }

        
        if ( ( ( AI_HAS_SKILL( BattleSkill.Sukunda ) || AI_HAS_SKILL( BattleSkill.Masukunda ) ) || AI_HAS_SKILL( 240 ) ) && ( AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.HitUpDebuff ) != -1 ) )
        {
            var42 = ( var42 + 1 );
            var40 = ( var40 + var42 );
        }

        
        if ( ( ( AI_HAS_SKILL( BattleSkill.Rakunda ) || AI_HAS_SKILL( BattleSkill.Marakunda ) ) || AI_HAS_SKILL( 240 ) ) && ( AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.DefenseDebuff ) != -1 ) )
        {
            var42 = ( var42 + 1 );
            var39 = ( var39 + var42 );
        }

        var52 = ( AI_RND( var42 ) + 1 );
        
        if ( var52 == var38 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Matarunda ) )
            {
                AI_ACT_SKILL( BattleSkill.Matarunda );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 240 ) )
            {
                var58 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AttackDebuff );
                var57 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.HitUpDebuff );
                var59 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.DefenseDebuff );
                
                if ( ( ( var57 != -1 ) || ( var58 != -1 ) ) || ( var59 != -1 ) )
                {
                    AI_ACT_SKILL( 240 );
                    
                    if ( var57 != -1 )
                    {
                        AI_TAR_ID( var57 );
                    }
                    else if ( var58 != -1 )
                    {
                        AI_TAR_ID( var58 );
                    }
                    else if ( var59 != -1 )
                    {
                        AI_TAR_ID( var59 );
                    }

                    return;
                }

            }
            else 
            {
                var42 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AttackDebuff );
                AI_ACT_SKILL( BattleSkill.Tarunda );
                AI_TAR_ID( var42 );
                return;
            }

        }
        else if ( var52 == var40 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Masukunda ) )
            {
                AI_ACT_SKILL( BattleSkill.Masukunda );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 240 ) )
            {
                var58 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AttackDebuff );
                var57 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.HitUpDebuff );
                var59 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.DefenseDebuff );
                
                if ( ( ( var57 != -1 ) || ( var58 != -1 ) ) || ( var59 != -1 ) )
                {
                    AI_ACT_SKILL( 240 );
                    
                    if ( var57 != -1 )
                    {
                        AI_TAR_ID( var57 );
                    }
                    else if ( var58 != -1 )
                    {
                        AI_TAR_ID( var58 );
                    }
                    else if ( var59 != -1 )
                    {
                        AI_TAR_ID( var59 );
                    }

                    return;
                }

            }
            else 
            {
                var42 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.HitUpDebuff );
                AI_ACT_SKILL( BattleSkill.Sukunda );
                AI_TAR_ID( var42 );
                return;
            }

        }
        else if ( var52 == var39 )
        {
            
            if ( AI_HAS_SKILL( BattleSkill.Marakunda ) )
            {
                AI_ACT_SKILL( BattleSkill.Marakunda );
                AI_TAR_RND();
                return;
            }
            else if ( AI_HAS_SKILL( 240 ) )
            {
                var58 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AttackDebuff );
                var57 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.HitUpDebuff );
                var59 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.DefenseDebuff );
                
                if ( ( ( var57 != -1 ) || ( var58 != -1 ) ) || ( var59 != -1 ) )
                {
                    AI_ACT_SKILL( 240 );
                    
                    if ( var57 != -1 )
                    {
                        AI_TAR_ID( var57 );
                    }
                    else if ( var58 != -1 )
                    {
                        AI_TAR_ID( var58 );
                    }
                    else if ( var59 != -1 )
                    {
                        AI_TAR_ID( var59 );
                    }

                    return;
                }

            }
            else 
            {
                var42 = AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.DefenseDebuff );
                AI_ACT_SKILL( BattleSkill.Rakunda );
                AI_TAR_ID( var42 );
                return;
            }

        }

    }

    var48 = FUNCTION_01C9();
    var49 = FUNCTION_01CA();
    var50 = ( var48 - var49 );
    
    if ( var50 <= -8 )
    {
        var51 = 100;
    }
    else if ( var50 <= -3 )
    {
        var51 = 100;
    }
    else if ( var50 <= 0 )
    {
        var51 = 100;
    }
    else if ( var50 <= 3 )
    {
        var51 = 80;
    }
    else 
    {
        var51 = 20;
    }

    var52 = AI_RND( 100 );
    
    if ( ( var52 <= var51 ) && AI_CHK_ALLIES_STATUS( StatusEffects.Downed ) )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.RePatra ) )
        {
            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Yukari, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Yukari );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Ken, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Ken );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Mitsuru, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Mitsuru );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Akihiko, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Akihiko );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Aigis, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Aigis );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Junpei, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Junpei );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Koromaru, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.Koromaru );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.ShinjiroMetis, StatusEffects.Downed ) )
            {
                var42 = FUNCTION_00FE( 0, PartyMember.ShinjiroMetis );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var42 );
                return;
            }

        }
        else if ( AI_HAS_SKILL( 255 ) )
        {
            AI_ACT_SKILL( 255 );
            AI_TAR_RND();
            return;
        }

    }

    
    if ( AI_HAS_SKILL( BattleSkill.Dekaja ) )
    {
        var54 = AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.AttackBuff );
        var55 = AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.DefenseBuff );
        var56 = AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.HitUpBuff );
        var57 = ( ( var54 + var55 ) + var56 );
        
        if ( ( ( AI_ENEMY_COUNT( 1 ) && ( var57 >= 1 ) ) || ( AI_ENEMY_COUNT( 3 ) && ( var57 >= 1 ) ) ) || ( AI_ENEMY_COUNT( 5 ) && ( var57 >= 2 ) ) )
        {
            
            if ( ( FUNCTION_0194( 1 ) == 0 ) && ( FUNCTION_019D() == 0 ) )
            {
                var51 = 100;
            }
            else 
            {
                var51 = 100;
            }

            var52 = AI_RND( 100 );
            
            if ( var52 <= var51 )
            {
                AI_ACT_SKILL( BattleSkill.Dekaja );
                AI_TAR_RND();
                return;
            }

        }

    }

    
    if ( AI_HAS_SKILL( BattleSkill.Dekunda ) )
    {
        var54 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.AttackDebuff );
        var55 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.DefenseDebuff );
        var56 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.HitUpDebuff );
        var58 = ( ( var54 + var55 ) + var56 );
        var54 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break1 );
        var55 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break2 );
        var56 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break3 );
        var58 = ( ( ( var58 + var54 ) + var55 ) + var56 );
        var54 = AI_CHK_NUM_ALLIES_EFFECTED( SpecialEffects.Break4 );
        var58 = ( var58 + var54 );
        
        if ( ( AI_ALLY_COUNT( 2 ) && ( var58 >= 1 ) ) || ( AI_ALLY_COUNT( 4 ) && ( var58 >= 1 ) ) )
        {
            
            if ( ( FUNCTION_0194( 1 ) == 0 ) && ( FUNCTION_019D() == 0 ) )
            {
                var51 = 100;
            }
            else 
            {
                var51 = 100;
            }

            var52 = AI_RND( 100 );
            
            if ( var52 <= var51 )
            {
                AI_ACT_SKILL( BattleSkill.Dekunda );
                AI_TAR_RND();
                return;
            }

        }

    }

    var48 = FUNCTION_01C9();
    var49 = FUNCTION_01CA();
    var50 = ( var48 - var49 );
    
    if ( var50 <= -8 )
    {
        var51 = 100;
    }
    else if ( var50 <= -3 )
    {
        var51 = 100;
    }
    else if ( var50 <= 0 )
    {
        var51 = 80;
    }
    else if ( var50 <= 3 )
    {
        var51 = 40;
    }
    else 
    {
        var51 = 20;
    }

    var52 = AI_RND( 100 );
    
    if ( ( var52 <= var51 ) || FUNCTION_019D() )
    {
        var42 = FUNCTION_01CE( 3 );
        
        if ( ( ( var42 != -1 ) && AI_HAS_SKILL( BattleSkill.FireBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break1 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 3 ) )
            {
                AI_ACT_SKILL( BattleSkill.FireBreak );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( FUNCTION_01CF( 5, 3 ) )
            {
                AI_ACT_SKILL( BattleSkill.FireBreak );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( FUNCTION_01CF( 10, 3 ) )
            {
                AI_ACT_SKILL( BattleSkill.FireBreak );
                AI_TAR_ID( var42 );
                return;
            }

        }

        var42 = FUNCTION_01CE( 4 );
        
        if ( ( ( var42 != -1 ) && AI_HAS_SKILL( BattleSkill.IceBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break2 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 4 ) )
            {
                AI_ACT_SKILL( BattleSkill.IceBreak );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( FUNCTION_01CF( 4, 4 ) )
            {
                AI_ACT_SKILL( BattleSkill.IceBreak );
                AI_TAR_ID( var42 );
                return;
            }

        }

        var42 = FUNCTION_01CE( 6 );
        
        if ( ( ( var42 != -1 ) && AI_HAS_SKILL( BattleSkill.WindBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break3 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 6 ) )
            {
                AI_ACT_SKILL( BattleSkill.WindBreak );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( FUNCTION_01CF( 2, 6 ) )
            {
                AI_ACT_SKILL( BattleSkill.WindBreak );
                AI_TAR_ID( var42 );
                return;
            }

        }

        var42 = FUNCTION_01CE( 5 );
        
        if ( ( ( var42 != -1 ) && AI_HAS_SKILL( BattleSkill.ElecBreak ) ) && ( AI_CHK_NUM_ENEMIES_EFFECTED( SpecialEffects.Break4 ) == 0 ) )
        {
            
            if ( FUNCTION_01CF( 1, 5 ) )
            {
                AI_ACT_SKILL( BattleSkill.ElecBreak );
                AI_TAR_ID( var42 );
                return;
            }

            
            if ( FUNCTION_01CF( 7, 5 ) )
            {
                AI_ACT_SKILL( BattleSkill.ElecBreak );
                AI_TAR_ID( var42 );
                return;
            }

        }

    }

    var47 = FUNCTION_0157( 1, 80, 0 );
    
    if ( var47 != -1 )
    {
        
        if ( FUNCTION_00FB( var47, 0x10 ) == 1 )
        {
            
            if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var47, 0x10 ) == 1 ) )
            {
                var42 = FUNCTION_01C8( 70 );
                var46 = FUNCTION_01C8( 80 );
                
                if ( ( var42 >= 2 ) || ( var46 >= 3 ) )
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
                }

                FUNCTION_00EB( var44 );
                AI_TAR_ID( var47 );
                return;
            }
            else 
            {
                var42 = FUNCTION_01C8( 70 );
                var46 = FUNCTION_01C8( 80 );
                
                if ( ( var42 >= 2 ) || ( var46 >= 3 ) )
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.MultiTarget );
                }
                else 
                {
                    var45 = AI_USE_SKILL_AFFINITY( var47, 0x10, NumberTargets.SingleTarget );
                }

                AI_ACT_SKILL( var45 );
                AI_TAR_ID( var47 );
                return;
            }

        }
        else if ( FUNCTION_00FC( var47, 0x10 ) == 1 )
        {
            var42 = FUNCTION_01C8( 70 );
            var46 = FUNCTION_01C8( 80 );
            
            if ( ( var42 >= 2 ) || ( var46 >= 3 ) )
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var44 = AI_USE_ITEM( var47, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var44 );
            AI_TAR_ID( var47 );
            return;
        }

    }

    
    if ( ( AI_HAS_SKILL( 17 ) && ( AI_CHK_ANY_ENEMIES_EFFECT( SpecialEffects.AilmentSusceptibility ) != -1 ) ) )
    {
        AI_ACT_SKILL( 17 );
        AI_TAR_RND();
        return;
    }

    
    if ( AI_HAS_SKILL( 253 ) && ( AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.Revolution ) != -1 ) )
    {
        AI_ACT_SKILL( 253 );
        AI_TAR_RND();
        return;
    }
    else if ( AI_HAS_SKILL( 252 ) && ( AI_CHK_ANY_ALLIES_EFFECT( SpecialEffects.Rebellion ) != -1 ) )
    {
        AI_ACT_SKILL( 252 );
        AI_TAR_RND();
        return;
    }

    
    if ( AI_HAS_SKILL( BattleSkill.SpiritDrain ) && ( AI_SELF_SP_PERCENT( 10 ) == 1 ) )
    {
        AI_ACT_SKILL( BattleSkill.SpiritDrain );
        FUNCTION_0062();
        return;
    }

    
    if ( AI_HAS_SKILL( 26 ) )
    {
        
        if ( AI_SELF_SP_PERCENT( 15 ) == 1 )
        {
            AI_ACT_SKILL( 26 );
            FUNCTION_0062();
            return;
        }
        else if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( AI_SELF_HP_PERCENT( 80 ) == 1 ) )
        {
            AI_ACT_SKILL( 26 );
            FUNCTION_0062();
            return;
        }
    }

    var48 = FUNCTION_01C9();
    var49 = FUNCTION_01CA();
    var50 = ( var48 - var49 );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    BIT_OFF( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( ( ( ( AI_HAS_SKILL( BattleSkill.SexyDance ) || AI_HAS_SKILL( 243 ) ) && ( FUNCTION_019D() == 0 ) ) && FUNCTION_0039( 60 ) ) && ( var50 <= 10 ) )
    {
        BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    }

    var59 = 0;
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( BIT_CHK( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) ) == 1 )
    {
        var42 = AI_NUM_EN_NOT_IMMUNE( 10 );
        
        if ( var42 <= 0 )
        {
            var59 = 0;
        }
        else if ( var42 <= 2 )
        {
            var59 = 20;
        }
        else if ( var42 <= 3 )
        {
            var59 = 50;
        }
        else if ( var42 <= 4 )
        {
            var59 = 50;
        }
        else 
        {
            var59 = 70;
        }

        var52 = AI_RND( 100 );
        
        if ( ( var52 <= var59 ) && AI_HAS_SKILL( BattleSkill.SexyDance ) )
        {
            AI_ACT_SKILL( BattleSkill.SexyDance );
            AI_TAR_RND();
            return;
        }
        else if ( ( var52 <= var59 ) && AI_HAS_SKILL( 243 ) )
        {
            AI_ACT_SKILL( 243 );
            AI_TAR_RND();
            return;
        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    BIT_OFF( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( ( ( ( AI_HAS_SKILL( BattleSkill.Tentarafoo ) || AI_HAS_SKILL( 249 ) ) && ( FUNCTION_019D() == 0 ) ) && FUNCTION_0039( 60 ) ) && ( var50 <= 10 ) )
    {
        BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( BIT_CHK( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) ) == 1 )
    {
        var42 = AI_NUM_EN_NOT_IMMUNE( 13 );
        
        if ( var42 <= 0 )
        {
            var59 = 0;
        }
        else if ( var42 <= 2 )
        {
            var59 = 20;
        }
        else if ( var42 <= 3 )
        {
            var59 = 50;
        }
        else if ( var42 <= 4 )
        {
            var59 = 50;
        }
        else 
        {
            var59 = 70;
        }

        var52 = AI_RND( 100 );
        
        if ( ( var52 <= var59 ) && AI_HAS_SKILL( BattleSkill.Tentarafoo ) )
        {
            AI_ACT_SKILL( BattleSkill.Tentarafoo );
            AI_TAR_RND();
            return;
        }
        else if ( ( var52 <= var59 ) && AI_HAS_SKILL( 249 ) )
        {
            AI_ACT_SKILL( 249 );
            AI_TAR_RND();
            return;
        }

    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    BIT_OFF( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( ( ( ( AI_HAS_SKILL( BattleSkill.EvilSmile ) || AI_HAS_SKILL( 244 ) ) && ( FUNCTION_019D() == 0 ) ) && FUNCTION_0039( 60 ) ) && ( var50 <= 10 ) )
    {
        BIT_ON( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) );
    }

    // bit id (((((0) + (1024)) + (2048)) + (1024)) + (1024)) + (320) = 5440
    
    if ( BIT_CHK( ( ( ( ( ( 0 + 0x0400 ) + 0x0800 ) + 0x0400 ) + 0x0400 ) + 320 ) ) == 1 )
    {
        var42 = AI_NUM_EN_NOT_IMMUNE( 14 );
        
        if ( var42 <= 0 )
        {
            var59 = 0;
        }
        else if ( var42 <= 2 )
        {
            var59 = 20;
        }
        else if ( var42 <= 3 )
        {
            var59 = 50;
        }
        else if ( var42 <= 4 )
        {
            var59 = 50;
        }
        else 
        {
            var59 = 70;
        }

        var52 = AI_RND( 100 );
        
        if ( ( var52 <= var59 ) && AI_HAS_SKILL( BattleSkill.EvilSmile ) )
        {
            AI_ACT_SKILL( BattleSkill.EvilSmile );
            AI_TAR_RND();
            return;
        }
        else if ( ( var52 <= var59 ) && AI_HAS_SKILL( 244 ) )
        {
            AI_ACT_SKILL( 244 );
            AI_TAR_RND();
            return;
        }

    }

    AI_PC_002_004();
}


// Procedure Index: 5
void AI_PC_002_006()
{
    int var60;
    int var61;
    int var62;
    int var63;
    int var64;
    int var65;
    int var66;
    int var67;
    int var68;
    int var69;
    int var70;
    int var71;
    var60 = 0;
    var61 = 0;
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var60 = FUNCTION_00FF();
        var61 = AI_WEAPON_AFFINITY();
        
        if ( ( FUNCTION_0148( var60, var61 ) == 1 ) && ( FUNCTION_00FA( var60 ) == 1 ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var60 );
            return;
        }
        else if ( ( ( FUNCTION_0148( var60, var61 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var60 );
            return;
        }

    }

    var62 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var62 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var63 = FUNCTION_00FE( 0, PartyMember.Protagonist );
    var64 = 0;
    
    if ( ( FUNCTION_00F8( var63, 40 ) == 1 ) && ( FUNCTION_00FC( var63, 0x10 ) == 1 ) )
    {
        var60 = FUNCTION_01C8( 60 );
        
        if ( var60 >= 2 )
        {
            var64 = AI_USE_ITEM( var63, 0x10, NumberTargets.MultiTarget );
        }
        else 
        {
            var64 = AI_USE_ITEM( var63, 0x10, NumberTargets.SingleTarget );
        }

        FUNCTION_00EB( var64 );
        AI_TAR_ID( var63 );
        return;
    }

    var65 = FUNCTION_0140();
    
    if ( ( FUNCTION_00F8( var65, 40 ) == 1 ) && ( FUNCTION_00FC( var65, 0x10 ) == 1 ) )
    {
        var60 = FUNCTION_01C8( 60 );
        
        if ( var60 >= 2 )
        {
            var64 = AI_USE_ITEM( var65, 0x10, NumberTargets.MultiTarget );
        }
        else 
        {
            var64 = AI_USE_ITEM( var65, 0x10, NumberTargets.SingleTarget );
        }

        FUNCTION_00EB( var64 );
        AI_TAR_ID( var65 );
        return;
    }

    var61 = AI_WEAPON_AFFINITY();
    var60 = AI_EN_NOT_IMMUNE( var61 );
    
    if ( var60 != -1 )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var60 );
        return;
    }

    var61 = AI_WEAPON_AFFINITY();
    
    if ( AI_EN_WEAK( Affinity.Slash ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Slash ) ) )
    {
        var60 = AI_EN_NOT_IMMUNE( Affinity.Slash );
        
        if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var66 = AI_USE_SKILL_AFFINITY( var60, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var66 );
        }

        AI_TAR_ID( var60 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Strike ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Strike ) ) )
    {
        var60 = AI_EN_NOT_IMMUNE( Affinity.Strike );
        
        if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var67 = AI_USE_SKILL_AFFINITY( var60, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var67 );
        }

        AI_TAR_ID( var60 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Pierce ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Pierce ) ) )
    {
        var60 = AI_EN_NOT_IMMUNE( Affinity.Pierce );
        
        if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var68 = AI_USE_SKILL_AFFINITY( var60, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var68 );
        }

        AI_TAR_ID( var60 );
        return;
    }

    var60 = FUNCTION_0108( 2 );
    
    if ( ( ( var60 != -1 ) && AI_HAS_SKILL( BattleSkill.CruelAttack ) ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.CruelAttack );
        AI_TAR_ID( var60 );
        return;
    }

    var60 = FUNCTION_00FF();
    var61 = AI_WEAPON_AFFINITY();
    
    if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var60 );
        return;
    }

    
    if ( AI_HAS_SKILL( BattleSkill.SpiritDrain ) && ( AI_SELF_SP_PERCENT( 30 ) == 1 ) )
    {
        AI_ACT_SKILL( BattleSkill.SpiritDrain );
        FUNCTION_0062();
        return;
    }

    
    if ( AI_HAS_SKILL( 26 ) )
    {
        
        if ( AI_SELF_SP_PERCENT( 30 ) == 1 )
        {
            AI_ACT_SKILL( 26 );
            FUNCTION_0062();
            return;
        }
        else if ( ( AI_SELF_SP_PERCENT( 50 ) == 1 ) && ( AI_SELF_HP_PERCENT( 80 ) == 1 ) )
        {
            AI_ACT_SKILL( 26 );
            FUNCTION_0062();
            return;
        }

    }

    var61 = AI_WEAPON_AFFINITY();
    
    if ( AI_CHK_ANY_EN_WEAK( Affinity.Slash ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Slash ) ) )
    {
        var60 = AI_CHK_WEAK_POSITION( Affinity.Slash );
        
        if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var69 = AI_USE_SKILL_AFFINITY( var60, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var69 );
        }

        AI_TAR_ID( var60 );
        return;
    }
    else if ( AI_CHK_ANY_EN_WEAK( Affinity.Strike ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Strike ) ) )
    {
        var60 = AI_CHK_WEAK_POSITION( Affinity.Strike );
        
        if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var70 = AI_USE_SKILL_AFFINITY( var60, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var70 );
        }

        AI_TAR_ID( var60 );
        return;
    }
    else if ( AI_CHK_ANY_EN_WEAK( Affinity.Pierce ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Pierce ) ) )
    {
        var60 = AI_CHK_WEAK_POSITION( Affinity.Pierce );
        
        if ( ( FUNCTION_00FA( var60 ) == 1 ) && ( FUNCTION_0148( var60, var61 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var71 = AI_USE_SKILL_AFFINITY( var60, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var71 );
        }

        AI_TAR_ID( var60 );
        return;
    }
    else 
    {
        var61 = AI_WEAPON_AFFINITY();
        var60 = AI_CHK_WEAK_POSITION( var61 );
        
        if ( var60 != -1 )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var60 );
            return;
        }

    }

    AI_ACT_WAIT();
    AI_TAR_RND();
}


// Procedure Index: 6
void AI_PC_002_007()
{
    int var72;
    int var73;
    int var74;
    int var75;
    int var76;
    int var77;
    int var78;
    var72 = FUNCTION_010C();
    var73 = AI_WEAPON_AFFINITY();
    var74 = 0;
    var75 = 0;
    
    if ( ( FUNCTION_0148( var72, var73 ) == 1 ) && ( FUNCTION_00FA( var72 ) == 1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var72 );
        return;
    }
    else if ( ( ( FUNCTION_0148( var72, var73 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var72 );
        return;
    }

    var76 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var76 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var77 = FUNCTION_010D( var72 );
    
    if ( var77 != -1 )
    {
        
        if ( AI_HAS_AFFINITY( var77 ) == 1 )
        {
            var74 = AI_USE_SKILL_AFFINITY( var72, var77, NumberTargets.MultiTarget );
            AI_ACT_SKILL( var74 );
            AI_TAR_ID( var72 );
            return;
        }

    }

    var74 = FUNCTION_010B( var72, 1, 0 );
    var78 = 0;
    
    if ( var74 != -1 )
    {
        var78 = FUNCTION_01CB( var74 );
        
        if ( ( ( ( var78 == 0 ) || ( var78 == 1 ) ) || ( var78 == 2 ) ) && AI_SELF_HP_PERCENT( 40 ) )
        {
            var74 = FUNCTION_010B( var72, 1, 1 );
            
            if ( var74 == -1 )
            {
                var73 = AI_WEAPON_AFFINITY();
                
                if ( FUNCTION_0148( var72, var73 ) )
                {
                    AI_ACT_WEAPON();
                    AI_TAR_ID( var72 );
                    return;
                }
                else 
                {
                    var72 = AI_CHK_WEAK_POSITION( var73 );
                    
                    if ( var72 != -1 )
                    {
                        AI_ACT_WEAPON();
                        AI_TAR_ID( var72 );
                        return;
                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahamaon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahama );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                var72 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                var72 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                var72 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var72 );
                                return;
                            }

                        }
                        else 
                        {
                            var72 = AI_EN_WEAK_ID( 8 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var72 );
                                return;
                            }

                        }

                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudoon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudo );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                var72 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                var72 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                var72 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var72 );
                                return;
                            }

                        }
                        else 
                        {
                            var72 = AI_EN_WEAK_ID( 9 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var72 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var72 );
                                return;
                            }

                        }

                    }

                    AI_ACT_WAIT();
                    AI_TAR_RND();
                    return;
                }

            }
            else 
            {
                var78 = FUNCTION_01CB( var74 );
                
                if ( var78 == -1 )
                {
                    OPEN_MSG_WIN();
                    MSG( 2 );
                    CLOSE_MSG_WIN();
                }

                var75 = FUNCTION_01CE( var78 );
                
                if ( var75 != -1 )
                {
                    var74 = FUNCTION_010B( var72, 1, 1 );
                    AI_ACT_SKILL( var74 );
                    AI_TAR_ID( var72 );
                    return;
                }
                else 
                {
                    AI_ACT_SKILL( var74 );
                    AI_TAR_ID( var72 );
                    return;
                }

            }

        }
        else 
        {
            var75 = FUNCTION_01CE( var78 );
            
            if ( ( var75 != -1 ) || ( AI_ENEMY_COUNT( 1 ) == 1 ) )
            {
                var74 = FUNCTION_010B( var72, 1, 0 );
                AI_ACT_SKILL( var74 );
                AI_TAR_ID( var72 );
                return;
            }
            else 
            {
                AI_ACT_SKILL( var74 );
                AI_TAR_ID( var72 );
                return;
            }

        }

    }
    else 
    {
        var73 = AI_WEAPON_AFFINITY();
        var72 = AI_CHK_WEAK_POSITION( var73 );
        
        if ( var72 != -1 )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var72 );
            return;
        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahamaon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahama );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    var72 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    var72 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    var72 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var72 );
                    return;
                }

            }
            else 
            {
                var72 = AI_EN_WEAK_ID( 8 );
                
                if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var72 );
                    return;
                }

            }

        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudoon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudo );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    var72 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    var72 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    var72 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var72 );
                    return;
                }

            }
            else 
            {
                var72 = AI_EN_WEAK_ID( 9 );
                
                if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var72 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var72 );
                    return;
                }

            }

        }

        AI_ACT_WAIT();
        AI_TAR_RND();
        return;
    }

}


// Procedure Index: 7
void AI_PC_002_008()
{
    int var79;
    int var80;
    int var81;
    int var82;
    int var83;
    int var84;
    int var85;
    var79 = FUNCTION_010E();
    var80 = AI_WEAPON_AFFINITY();
    var81 = 0;
    var82 = 0;
    
    if ( ( FUNCTION_0148( var79, var80 ) == 1 ) && ( FUNCTION_00FA( var79 ) == 1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var79 );
        return;
    }
    else if ( ( ( FUNCTION_0148( var79, var80 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var79 );
        return;
    }

    var83 = AI_RND( 100 );
    
    if ( ( ( FUNCTION_0045() == 1 ) && ( AI_SELF_HP_PERCENT( 20 ) == 1 ) ) && ( var83 <= 50 ) )
    {
        AI_ASK_TO_LEAVE();
        AI_TAR_RND();
        return;
    }

    var84 = FUNCTION_010D( var79 );
    
    if ( var84 != -1 )
    {
        
        if ( AI_HAS_AFFINITY( var84 ) == 1 )
        {
            var81 = AI_USE_SKILL_AFFINITY( var79, var84, NumberTargets.MultiTarget );
            AI_ACT_SKILL( var81 );
            AI_TAR_ID( var79 );
            return;
        }

    }

    var81 = FUNCTION_010B( var79, 1, 0 );
    var85 = 0;
    
    if ( var81 != -1 )
    {
        var85 = FUNCTION_01CB( var81 );
        
        if ( var85 == -1 )
        {
            OPEN_MSG_WIN();
            MSG( 1 );
            CLOSE_MSG_WIN();
        }

        
        if ( ( ( ( var85 == 0 ) || ( var85 == 1 ) ) || ( var85 == 2 ) ) && AI_SELF_HP_PERCENT( 40 ) )
        {
            var81 = FUNCTION_010B( var79, 1, 1 );
            
            if ( var81 == -1 )
            {
                var80 = AI_WEAPON_AFFINITY();
                
                if ( FUNCTION_0148( var79, var80 ) )
                {
                    AI_ACT_WEAPON();
                    AI_TAR_ID( var79 );
                    return;
                }
                else 
                {
                    var79 = AI_CHK_WEAK_POSITION( var80 );
                    
                    if ( var79 != -1 )
                    {
                        AI_ACT_WEAPON();
                        AI_TAR_ID( var79 );
                        return;
                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahamaon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahama );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                var79 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                var79 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                var79 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var79 );
                                return;
                            }

                        }
                        else 
                        {
                            var79 = AI_EN_WEAK_ID( 8 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var79 );
                                return;
                            }

                        }

                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudoon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudo );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                var79 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                var79 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                var79 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var79 );
                                return;
                            }

                        }
                        else 
                        {
                            var79 = AI_EN_WEAK_ID( 9 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var79 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var79 );
                                return;
                            }

                        }

                    }

                    AI_ACT_WAIT();
                    AI_TAR_RND();
                    return;
                }

            }
            else 
            {
                var85 = FUNCTION_01CB( var81 );
                
                if ( var85 == -1 )
                {
                    OPEN_MSG_WIN();
                    MSG( 2 );
                    CLOSE_MSG_WIN();
                }

                var82 = FUNCTION_01CE( var85 );
                
                if ( var82 != -1 )
                {
                    var81 = FUNCTION_010B( var79, 1, 1 );
                    AI_ACT_SKILL( var81 );
                    AI_TAR_ID( var79 );
                    return;
                }
                else 
                {
                    AI_ACT_SKILL( var81 );
                    AI_TAR_ID( var79 );
                    return;
                }

            }

        }
        else 
        {
            var82 = FUNCTION_01CE( var85 );
            
            if ( ( var82 != -1 ) || ( AI_ENEMY_COUNT( 1 ) == 1 ) )
            {
                var81 = FUNCTION_010B( var79, 1, 0 );
                AI_ACT_SKILL( var81 );
                AI_TAR_ID( var79 );
                return;
            }
            else 
            {
                AI_ACT_SKILL( var81 );
                AI_TAR_ID( var79 );
                return;
            }

        }

    }
    else 
    {
        var80 = AI_WEAPON_AFFINITY();
        var79 = AI_CHK_WEAK_POSITION( var80 );
        
        if ( var79 != -1 )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var79 );
            return;
        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahamaon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahama );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    var79 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    var79 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    var79 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var79 );
                    return;
                }

            }
            else 
            {
                var79 = AI_EN_WEAK_ID( 8 );
                
                if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var79 );
                    return;
                }

            }

        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudoon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudo );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    var79 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    var79 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    var79 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var79 );
                    return;
                }

            }
            else 
            {
                var79 = AI_EN_WEAK_ID( 9 );
                
                if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var79 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var79 );
                    return;
                }

            }

        }

        AI_ACT_WAIT();
        AI_TAR_RND();
        return;
    }

}


// Procedure Index: 8
void AI_PC_002_009()
{
    AI_ACT_WAIT();
    AI_TAR_RND();
}


// Procedure Index: 9
void AI_PC_003_001()
{
    AI_PC_002_001();
}


// Procedure Index: 10
void AI_PC_003_002()
{
    AI_PC_002_002();
}


// Procedure Index: 11
void AI_PC_003_003()
{
    AI_PC_002_003();
}


// Procedure Index: 12
void AI_PC_003_004()
{
    AI_PC_002_004();
}


// Procedure Index: 13
void AI_PC_003_005()
{
    AI_PC_002_005();
}


// Procedure Index: 14
void AI_PC_003_006()
{
    AI_PC_002_006();
}


// Procedure Index: 15
void AI_PC_003_007()
{
    AI_PC_002_007();
}


// Procedure Index: 16
void AI_PC_003_008()
{
    AI_PC_002_008();
}


// Procedure Index: 17
void AI_PC_003_009()
{
    AI_PC_002_009();
}


// Procedure Index: 18
void AI_PC_003_00A()
{
    int var86;
    int var87;
    int var88;
    int var89;
    int var90;
    var86 = 0;
    var87 = 0;
    var88 = 0;
    var89 = 0;
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var86 = FUNCTION_00FF();
        var87 = AI_WEAPON_AFFINITY();
        
        if ( ( FUNCTION_0148( var86, var87 ) == 1 ) && ( FUNCTION_00FA( var86 ) == 1 ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var86 );
            return;
        }
        else if ( ( ( FUNCTION_0148( var86, var87 ) == 1 ) && ( FUNCTION_0045() == 1 ) ) && ( ( ( ( ( AI_CHK_ENEMY_STATUS( StatusEffects.Charm ) || AI_CHK_ENEMY_STATUS( StatusEffects.Panic ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Fear ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Freeze ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Shock ) ) || AI_CHK_ENEMY_STATUS( StatusEffects.Downed ) ) )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var86 );
            return;
        }

    }

    var87 = AI_WEAPON_AFFINITY();
    var86 = AI_EN_NOT_IMMUNE( var87 );
    
    if ( var86 != -1 )
    {
        
        if ( FUNCTION_00FA( var86 ) == 1 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( var87 );
            AI_ACT_WEAPON();
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( var87 );
            }

        }

        AI_ACT_WEAPON();
        AI_TAR_ID( var86 );
        return;
    }

    
    if ( AI_EN_WEAK( Affinity.Slash ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Slash ) ) )
    {
        var86 = AI_EN_NOT_IMMUNE( Affinity.Slash );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 0 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Slash );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Strike ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Strike ) ) )
    {
        var86 = AI_EN_NOT_IMMUNE( Affinity.Strike );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 1 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Strike );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Pierce ) == 1 ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) && AI_HAS_AFFINITY( Affinity.Pierce ) ) )
    {
        var86 = AI_EN_NOT_IMMUNE( Affinity.Pierce );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 2 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Pierce );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Fire ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Fire ) == 1 ) )
    {
        var86 = FUNCTION_0103( 3 );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 3 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Fire );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Fire, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Ice ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Ice ) == 1 ) )
    {
        var86 = FUNCTION_0103( 4 );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 4 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Ice );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Ice, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Wind ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Wind ) == 1 ) )
    {
        var86 = FUNCTION_0103( 6 );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 6 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Wind );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Wind, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Elec ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Elec ) == 1 ) )
    {
        var86 = FUNCTION_0103( 5 );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 5 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Elec );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Elec, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Light ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Light ) == 1 ) )
    {
        var86 = FUNCTION_0103( 8 );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 8 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Light );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Light, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }
    else if ( ( AI_EN_WEAK( Affinity.Dark ) == 1 ) && ( AI_HAS_AFFINITY( Affinity.Dark ) == 1 ) )
    {
        var86 = FUNCTION_0103( 9 );
        
        if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var86 = FUNCTION_0101( 9 );
            
            if ( var86 == -1 )
            {
                var86 = AI_EN_NOT_IMMUNE( Affinity.Dark );
            }

            var88 = AI_USE_SKILL_AFFINITY( var86, Affinity.Dark, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var88 );
        }

        AI_TAR_ID( var86 );
        return;
    }

    var86 = FUNCTION_0108( 2 );
    
    if ( ( ( var86 != -1 ) && AI_HAS_SKILL( BattleSkill.CruelAttack ) ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) )
    {
        AI_ACT_SKILL( BattleSkill.CruelAttack );
        AI_TAR_ID( var86 );
        return;
    }

    var86 = FUNCTION_00FF();
    
    if ( ( FUNCTION_00FA( var86 ) == 1 ) && ( FUNCTION_0148( var86, var87 ) == 1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var86 );
        return;
    }

    var86 = FUNCTION_00FF();
    
    if ( AI_ENEMY_COUNT( 1 ) == 1 )
    {
        var88 = FUNCTION_010B( var86, 1, 0 );
    }
    else 
    {
        var88 = FUNCTION_010B( var86, 0, 0 );
    }

    var90 = 0;
    
    if ( var88 != -1 )
    {
        var90 = FUNCTION_01CB( var88 );
        
        if ( var90 == -1 )
        {
            OPEN_MSG_WIN();
            MSG( 1 );
            CLOSE_MSG_WIN();
        }

        
        if ( ( ( ( var90 == 0 ) || ( var90 == 1 ) ) || ( var90 == 2 ) ) && AI_SELF_HP_PERCENT( 40 ) )
        {
            
            if ( AI_ENEMY_COUNT( 1 ) == 1 )
            {
                var88 = FUNCTION_010B( var86, 1, 1 );
            }
            else 
            {
                var88 = FUNCTION_010B( var86, 0, 1 );
            }

            
            if ( var88 == -1 )
            {
                var87 = AI_WEAPON_AFFINITY();
                
                if ( FUNCTION_0148( var86, var87 ) )
                {
                    AI_ACT_WEAPON();
                    AI_TAR_ID( var86 );
                    return;
                }
                else 
                {
                    var86 = AI_CHK_WEAK_POSITION( var87 );
                    
                    if ( var86 != -1 )
                    {
                        AI_ACT_WEAPON();
                        AI_TAR_ID( var86 );
                        return;
                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahamaon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mahama );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                var86 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                var86 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                var86 = AI_EN_WEAK_ID( 8 );
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var86 );
                                return;
                            }

                        }
                        else 
                        {
                            var86 = AI_EN_WEAK_ID( 8 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hamaon );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Hama );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 49 ) )
                            {
                                AI_ACT_SKILL( 49 );
                                AI_TAR_ID( var86 );
                                return;
                            }

                        }

                    }
                    else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
                    {
                        
                        if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
                        {
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudoon );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mamudo );
                                AI_TAR_RND();
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                var86 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                var86 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                var86 = AI_EN_WEAK_ID( 9 );
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var86 );
                                return;
                            }

                        }
                        else 
                        {
                            var86 = AI_EN_WEAK_ID( 9 );
                            
                            if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudoon );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                            {
                                AI_ACT_SKILL( BattleSkill.Mudo );
                                AI_TAR_ID( var86 );
                                return;
                            }
                            else if ( AI_HAS_SKILL( 55 ) )
                            {
                                AI_ACT_SKILL( 55 );
                                AI_TAR_ID( var86 );
                                return;
                            }

                        }

                    }

                    AI_ACT_WAIT();
                    AI_TAR_RND();
                    return;
                }

            }
            else 
            {
                var90 = FUNCTION_01CB( var88 );
                
                if ( var90 == -1 )
                {
                    OPEN_MSG_WIN();
                    MSG( 2 );
                    CLOSE_MSG_WIN();
                }

                var89 = FUNCTION_01CE( var90 );
                
                if ( var89 != -1 )
                {
                    var88 = FUNCTION_010B( var86, 1, 1 );
                    AI_ACT_SKILL( var88 );
                    AI_TAR_ID( var86 );
                    return;
                }
                else 
                {
                    AI_ACT_SKILL( var88 );
                    AI_TAR_ID( var86 );
                    return;
                }

            }

        }
        else 
        {
            var89 = FUNCTION_01CE( var90 );
            
            if ( ( var89 != -1 ) || ( AI_ENEMY_COUNT( 1 ) == 1 ) )
            {
                var88 = FUNCTION_010B( var86, 1, 0 );
                AI_ACT_SKILL( var88 );
                AI_TAR_ID( var86 );
                return;
            }
            else 
            {
                AI_ACT_SKILL( var88 );
                AI_TAR_ID( var86 );
                return;
            }

        }

    }
    else 
    {
        var87 = AI_WEAPON_AFFINITY();
        var86 = AI_CHK_WEAK_POSITION( var87 );
        
        if ( var86 != -1 )
        {
            AI_ACT_WEAPON();
            AI_TAR_ID( var86 );
            return;
        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Light ) && AI_HAS_AFFINITY( Affinity.Light ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Light ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mahamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahamaon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mahama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mahama );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    var86 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    var86 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    var86 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var86 );
                    return;
                }

            }
            else 
            {
                var86 = AI_EN_WEAK_ID( 8 );
                
                if ( AI_HAS_SKILL( BattleSkill.Hamaon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hamaon );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Hama ) )
                {
                    AI_ACT_SKILL( BattleSkill.Hama );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( 49 ) )
                {
                    var86 = AI_EN_WEAK_ID( 8 );
                    AI_ACT_SKILL( 49 );
                    AI_TAR_ID( var86 );
                    return;
                }

            }

        }
        else if ( ( AI_CHK_ANY_EN_WEAK( Affinity.Dark ) && AI_HAS_AFFINITY( Affinity.Dark ) ) && ( FUNCTION_019D() == 0 ) )
        {
            
            if ( ( AI_EN_HAS_REFLECT( Affinity.Dark ) == 0 ) && ( AI_ENEMY_COUNT( 1 ) == 0 ) )
            {
                
                if ( AI_HAS_SKILL( BattleSkill.Mamudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudoon );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mamudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mamudo );
                    AI_TAR_RND();
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    var86 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    var86 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    var86 = AI_EN_WEAK_ID( 9 );
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var86 );
                    return;
                }

            }
            else 
            {
                var86 = AI_EN_WEAK_ID( 9 );
                
                if ( AI_HAS_SKILL( BattleSkill.Mudoon ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudoon );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( BattleSkill.Mudo ) )
                {
                    AI_ACT_SKILL( BattleSkill.Mudo );
                    AI_TAR_ID( var86 );
                    return;
                }
                else if ( AI_HAS_SKILL( 55 ) )
                {
                    AI_ACT_SKILL( 55 );
                    AI_TAR_ID( var86 );
                    return;
                }

            }

        }

        AI_ACT_WAIT();
        AI_TAR_RND();
        return;
    }

}


// Procedure Index: 19
void AI_PC_004_001()
{
    AI_PC_002_001();
}


// Procedure Index: 20
void AI_PC_004_002()
{
    AI_PC_002_002();
}


// Procedure Index: 21
void AI_PC_004_003()
{
    AI_PC_002_003();
}


// Procedure Index: 22
void AI_PC_004_004()
{
    AI_PC_002_004();
}


// Procedure Index: 23
void AI_PC_004_005()
{
    AI_PC_002_005();
}


// Procedure Index: 24
void AI_PC_004_006()
{
    AI_PC_002_006();
}


// Procedure Index: 25
void AI_PC_004_007()
{
    AI_PC_002_007();
}


// Procedure Index: 26
void AI_PC_004_008()
{
    AI_PC_002_008();
}


// Procedure Index: 27
void AI_PC_004_009()
{
    AI_PC_002_009();
}


// Procedure Index: 28
void AI_PC_005_001()
{
    AI_PC_002_001();
}


// Procedure Index: 29
void AI_PC_005_002()
{
    AI_PC_002_002();
}


// Procedure Index: 30
void AI_PC_005_003()
{
    AI_PC_002_003();
}


// Procedure Index: 31
void AI_PC_005_004()
{
    AI_PC_002_004();
}


// Procedure Index: 32
void AI_PC_005_005()
{
    AI_PC_002_005();
}


// Procedure Index: 33
void AI_PC_005_006()
{
    AI_PC_002_006();
}


// Procedure Index: 34
void AI_PC_005_007()
{
    AI_PC_002_007();
}


// Procedure Index: 35
void AI_PC_005_008()
{
    AI_PC_002_008();
}


// Procedure Index: 36
void AI_PC_005_009()
{
    AI_PC_002_009();
}


// Procedure Index: 37
void AI_PC_007_001()
{
    AI_PC_002_001();
}


// Procedure Index: 38
void AI_PC_007_002()
{
    AI_PC_002_002();
}


// Procedure Index: 39
void AI_PC_007_003()
{
    AI_PC_002_003();
}


// Procedure Index: 40
void AI_PC_007_004()
{
    AI_PC_002_004();
}


// Procedure Index: 41
void AI_PC_007_005()
{
    AI_PC_002_005();
}


// Procedure Index: 42
void AI_PC_007_006()
{
    AI_PC_002_006();
}


// Procedure Index: 43
void AI_PC_007_007()
{
    AI_PC_002_007();
}


// Procedure Index: 44
void AI_PC_007_008()
{
    AI_PC_002_008();
}


// Procedure Index: 45
void AI_PC_007_009()
{
    AI_PC_002_009();
}


// Procedure Index: 46
void AI_PC_008_001()
{
    AI_PC_002_001();
}


// Procedure Index: 47
void AI_PC_008_002()
{
    AI_PC_002_002();
}


// Procedure Index: 48
void AI_PC_008_003()
{
    AI_PC_002_003();
}


// Procedure Index: 49
void AI_PC_008_004()
{
    AI_PC_002_004();
}


// Procedure Index: 50
void AI_PC_008_005()
{
    AI_PC_002_005();
}


// Procedure Index: 51
void AI_PC_008_006()
{
    AI_PC_002_006();
}


// Procedure Index: 52
void AI_PC_008_007()
{
    AI_PC_002_007();
}


// Procedure Index: 53
void AI_PC_008_008()
{
    AI_PC_002_008();
}


// Procedure Index: 54
void AI_PC_008_009()
{
    AI_PC_002_009();
}


// Procedure Index: 55
void AI_PC_009_001()
{
    AI_PC_002_001();
}


// Procedure Index: 56
void AI_PC_009_002()
{
    AI_PC_002_002();
}


// Procedure Index: 57
void AI_PC_009_003()
{
    AI_PC_002_003();
}


// Procedure Index: 58
void AI_PC_009_004()
{
    AI_PC_002_004();
}


// Procedure Index: 59
void AI_PC_009_005()
{
    AI_PC_002_005();
}


// Procedure Index: 60
void AI_PC_009_006()
{
    AI_PC_002_006();
}


// Procedure Index: 61
void AI_PC_009_007()
{
    AI_PC_002_007();
}


// Procedure Index: 62
void AI_PC_009_008()
{
    AI_PC_002_008();
}


// Procedure Index: 63
void AI_PC_009_009()
{
    AI_PC_002_009();
}


// Procedure Index: 64
void AI_PC_009_00A()
{
    AI_PC_003_00A();
}


// Procedure Index: 65
void AI_PC_00A_001()
{
    AI_PC_002_001();
}


// Procedure Index: 66
void AI_PC_00A_002()
{
    AI_PC_002_002();
}


// Procedure Index: 67
void AI_PC_00A_003()
{
    AI_PC_002_003();
}


// Procedure Index: 68
void AI_PC_00A_004()
{
    AI_PC_002_004();
}


// Procedure Index: 69
void AI_PC_00A_005()
{
    AI_PC_002_005();
}


// Procedure Index: 70
void AI_PC_00A_006()
{
    AI_PC_002_006();
}


// Procedure Index: 71
void AI_PC_00A_007()
{
    AI_PC_002_007();
}


// Procedure Index: 72
void AI_PC_00A_008()
{
    AI_PC_002_008();
}


// Procedure Index: 73
void AI_PC_00A_009()
{
    AI_PC_002_009();
}


// Procedure Index: 74
void GOTODOWN()
{
    int var91;
    int var92;
    int var93;
    int var94;
    int var95;
    int var96;
    int var97;
    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0101( 0 );
    var93 = 0;
    var94 = 0;
    var95 = 0;
    
    if ( ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Slash ) == 1 ) ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) || ( var91 == 0 ) ) )
    {
        
        if ( var91 == 0 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Slash, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0101( 1 );
    
    if ( ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Strike ) == 1 ) ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) || ( var91 == 1 ) ) )
    {
        
        if ( var91 == 1 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Strike, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0101( 2 );
    
    if ( ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Pierce ) == 1 ) ) && ( ( AI_SELF_HP_PERCENT( 40 ) == 0 ) || ( var91 == 2 ) ) )
    {
        
        if ( var91 == 2 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Pierce, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0104( 3 );
    
    if ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Fire ) == 1 ) )
    {
        
        if ( var91 == 3 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Fire, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0104( 4 );
    
    if ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Ice ) == 1 ) )
    {
        
        if ( var91 == 4 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Ice, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0104( 5 );
    
    if ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Elec ) == 1 ) )
    {
        
        if ( var91 == 5 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Elec, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0104( 6 );
    
    if ( ( var92 != -1 ) && ( AI_HAS_AFFINITY( Affinity.Wind ) == 1 ) )
    {
        
        if ( var91 == 6 )
        {
            AI_ACT_WEAPON();
        }
        else 
        {
            var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Wind, NumberTargets.SingleTarget );
            AI_ACT_SKILL( var93 );
        }

        AI_TAR_ID( var92 );
        return;
    }

    var91 = AI_WEAPON_AFFINITY();
    var92 = FUNCTION_0111( var91 );
    
    if ( ( ( AI_CHK_ENEMIES_STATUS( StatusEffects.Downed ) == 0 ) && AI_SELF_HP_PERCENT( 40 ) ) && ( var92 != -1 ) )
    {
        AI_ACT_WEAPON();
        AI_TAR_ID( var92 );
        return;
    }

    var92 = FUNCTION_0111( 0 );
    
    if ( ( ( ( AI_CHK_ENEMIES_STATUS( StatusEffects.Downed ) == 0 ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) ) && ( var92 != -1 ) ) && ( AI_HAS_AFFINITY( Affinity.Slash ) == 1 ) )
    {
        var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Slash, NumberTargets.SingleTarget );
        AI_ACT_SKILL( var93 );
        AI_TAR_ID( var92 );
        return;
    }

    var92 = FUNCTION_0111( 1 );
    
    if ( ( ( ( AI_CHK_ENEMIES_STATUS( StatusEffects.Downed ) == 0 ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) ) && ( var92 != -1 ) ) && ( AI_HAS_AFFINITY( Affinity.Strike ) == 1 ) )
    {
        var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Strike, NumberTargets.SingleTarget );
        AI_ACT_SKILL( var93 );
        AI_TAR_ID( var92 );
        return;
    }

    var92 = FUNCTION_0111( 2 );
    
    if ( ( ( ( AI_CHK_ENEMIES_STATUS( StatusEffects.Downed ) == 0 ) && ( AI_SELF_HP_PERCENT( 40 ) == 0 ) ) && ( var92 != -1 ) ) && ( AI_HAS_AFFINITY( Affinity.Pierce ) == 1 ) )
    {
        var93 = AI_USE_SKILL_AFFINITY( var92, Affinity.Pierce, NumberTargets.SingleTarget );
        AI_ACT_SKILL( var93 );
        AI_TAR_ID( var92 );
        return;
    }

    var96 = FUNCTION_0140();
    
    if ( ( FUNCTION_00F8( var96, 60 ) == 1 ) && ( FUNCTION_00FB( var96, 0x10 ) == 1 ) )
    {
        
        if ( ( AI_SELF_SP_PERCENT( 30 ) == 1 ) && ( FUNCTION_00FC( var96, 0x10 ) == 1 ) )
        {
            var92 = FUNCTION_01C8( 70 );
            
            if ( var92 >= 2 )
            {
                var94 = AI_USE_ITEM( var96, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var94 = AI_USE_ITEM( var96, 0x10, NumberTargets.SingleTarget );
            }

            FUNCTION_00EB( var94 );
            AI_TAR_ID( var96 );
            return;
        }
        else 
        {
            var92 = FUNCTION_01C8( 70 );
            
            if ( var92 >= 2 )
            {
                var95 = AI_USE_SKILL_AFFINITY( var96, 0x10, NumberTargets.MultiTarget );
            }
            else 
            {
                var95 = AI_USE_SKILL_AFFINITY( var96, 0x10, NumberTargets.SingleTarget );
            }

            AI_ACT_SKILL( var95 );
            AI_TAR_ID( var96 );
            return;
        }

    }
    else if ( ( FUNCTION_00F8( var96, 60 ) == 1 ) && ( FUNCTION_00FC( var96, 0x10 ) == 1 ) )
    {
        var92 = FUNCTION_01C8( 70 );
        
        if ( var92 >= 2 )
        {
            var94 = AI_USE_ITEM( var96, 0x10, NumberTargets.MultiTarget );
        }
        else 
        {
            var94 = AI_USE_ITEM( var96, 0x10, NumberTargets.SingleTarget );
        }

        FUNCTION_00EB( var94 );
        AI_TAR_ID( var96 );
        return;
    }

    
    if ( AI_CHK_ALLIES_STATUS( StatusEffects.Downed ) )
    {
        
        if ( AI_HAS_SKILL( BattleSkill.RePatra ) )
        {
            var97 = FUNCTION_00FE( 0, PartyMember.Protagonist );
            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Protagonist, StatusEffects.Downed ) )
            {
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var97 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Yukari, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Yukari );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Ken, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Ken );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Mitsuru, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Mitsuru );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Akihiko, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Akihiko );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Aigis, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Aigis );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Junpei, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Junpei );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.Koromaru, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.Koromaru );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

            
            if ( AI_CHK_UNIT_STATUS( PartyMember.ShinjiroMetis, StatusEffects.Downed ) )
            {
                var92 = FUNCTION_00FE( 0, PartyMember.ShinjiroMetis );
                AI_ACT_SKILL( BattleSkill.RePatra );
                AI_TAR_ID( var92 );
                return;
            }

        }
        else if ( AI_HAS_SKILL( 255 ) )
        {
            AI_ACT_SKILL( 255 );
            AI_TAR_RND();
            return;
        }

    }

    AI_ACT_WAIT();
    AI_TAR_RND();
}

